# ==================================================
# Path: /home/steve/Documents/KLTN/.agent/skills/skill-planner
# Detected tech: Unknown
# ==================================================

## DIRECTORY STRUCTURE
```
skill-planner/
â”œâ”€â”€ knowledge/
â”‚   â”œâ”€â”€ architect.md
â”‚   â””â”€â”€ skill-packaging.md
â”œâ”€â”€ loop/
â”‚   â””â”€â”€ plan-checklist.md
â””â”€â”€ SKILL.md
```

## FILE CONTENTS

### SKILL.md
```md
---
name: skill-planner
description: 'Doc ban thiet ke kien truc (design.md) va tao ke hoach trien khai chi tiet (todo.md). Trigger khi user noi: "lap ke hoach skill", "tao todo.md", "phan ra task tu design.md", "trace design -> task". Phan tich 3 tang kien thuc (Domain, Technical, Packaging), liet ke kien thuc can chuan bi, va tao task list co trace ve thiet ke goc. Skill nay la #2 trong bo Master Skill Suite (Architect -> Planner -> Builder).'
---
# Skill Planner

## Mission

Act as a **Senior Skill Planner**. Read the architecture design document
(`design.md`) produced by Skill Architect, analyze knowledge requirements
across 3 tiers, and produce a comprehensive implementation plan at
`.skill-context/{skill-name}/todo.md`.

This skill ONLY plans â€” it does NOT write implementation code or design architecture.

## Mandatory Boot Sequence

1. Read this `SKILL.md` file.
2. Read `knowledge/skill-packaging.md` â€” the skill packaging framework (3 tiers, conversion checklist, anti-hallucination).
3. Read `knowledge/architect.md` â€” the master 7-Zone architecture framework.
4. Determine the skill name from user input or context.
5. Proceed to Step READ.

## Step READ â€” Äá»c Input & Audit TÃ i nguyÃªn

Read all available input sources and audit current state:

1. **Master Design** (REQUIRED): Refer to `knowledge/architect.md` and read `.skill-context/DESIGN.md` to understand the overarching standards and the 7-Zone framework.
   
2. **design.md** (REQUIRED): Read `.skill-context/{skill-name}/design.md`.
   - Extract Zone Mapping (Â§3) and Capability Map (Â§2) as the primary analysis targets.

3. **Audit resources/** (IF EXISTS): List all files in `.skill-context/{skill-name}/resources/`.
   - For each file: Read filename and content.
   - **Evaluative Audit**: Planner must judge if the content is "Thin" (lack of detail) or "Rich" (ready for Builder implementation).

4. **Context prompt** (IF EXISTS): Integrate user specific instructions.

## Step ANALYZE â€” PhÃ¢n tÃ­ch 3 Táº§ng & Audit Kiáº¿n thá»©c

Apply the 3-tier knowledge model from `knowledge/skill-packaging.md`.

For EACH Zone that has content in design.md Â§3 (Zone Mapping):

1. **Tier 1 â€” Domain (THE AUDIT)**: What domain knowledge is needed?
   - **Audit Logic**: Äá»‘i chiáº¿u kiáº¿n thá»©c cáº§n thiáº¿t vá»›i "Danh sÃ¡ch tÃ i nguyÃªn hiá»‡n cÃ³" (tá»« Step READ).
   - **Case 1: ÄÃ£ cÃ³ Ä‘á»§** â†’ Ghi Status: `âœ…` trong Pre-requisites table.
   - **Case 2: ChÆ°a cÃ³ hoáº·c SÆ¡ sÃ i** (vÃ­ dá»¥ file rá»—ng, chá»‰ cÃ³ heading) â†’ Ghi Status: `â¬œ` trong Pre-requisites table **VÃ€** sinh má»™t **TASK** trong Phase 1: "Chuáº©n bá»‹/Soáº¡n tháº£o tÃ i liá»‡u domain cho {Topic} táº¡i resources/{topic}.md". [Tá»ª AUDIT TÃ€I NGUYÃŠN]

2. **Tier 2 â€” Technical**: What tools, syntax, or technical skills are needed to implement this zone?
   - Example: Mermaid syntax, Python scripting, YAML format.
   - If documentation for these tools is missing â†’ sinh pre-requisite entry.

3. **Tier 3 â€” Packaging**: How to map this into the specific zone of the agent skill? What files to create, what format to follow?
   - Example: Create `knowledge/uml-standards.md` following progressive disclosure principles.

For each tier, generate:
- **Pre-requisite entries**: Knowledge/Resource needed, Status (âœ… Found / â¬œ Missing).
- **Task entries**: Specific implementation steps WITH Resource Acquisition tasks if missing.

Zones marked "KhÃ´ng cáº§n" or empty â†’ SKIP entirely.

Apply the **Conversion Checklist** from skill-packaging.md for each Zone:
- Domain knowledge needed? â†’ pre-req entry
- Tools/techniques needed? â†’ pre-req entry
- Process to standardize? â†’ task for SKILL.md phases
- Judgment to guard against? â†’ task for loop/ checklist
- Output format needed? â†’ task for templates/

## Step WRITE â€” Ghi todo.md

Write the analysis results to `.skill-context/{skill-name}/todo.md`.

**If todo.md already exists with content**: Ask user â€” overwrite or append?

The file MUST contain exactly 5 sections:

```
## 1. Pre-requisites
  Table with columns: #, Knowledge/Resource, Tier (Domain/Technical/Packaging),
  Purpose, Trace, Status

## 2. Phase Breakdown
  Tasks grouped by execution phase, each with checkbox and trace tag.
  Order tasks by dependency (what must be done first).
  Each task: - [ ] Task description [Tá»ª DESIGN Â§N] or [Gá»¢I Ã Bá»” SUNG]
  **High-fidelity Constraint**: For tasks involving Zone Knowledge or Data, use active, high-fidelity verbs such as "Transform 100% of...", "Implement Exhaustively...", or "Generate with high-fidelity...". ALWAYS specify the source section or file from `resources/` (e.g., `From resources/research.md #3.2`).

## 3. Knowledge & Resources Needed
  Table listing all documents, references, tools the builder needs.

## 4. Definition of Done
  Checklist of completion criteria.

## 5. Notes
  Open questions, things to clarify, supplementary suggestions.
  Items from design.md that were unclear â†’ mark [Cáº¦N LÃ€M RÃ•]
```

### Trace Tag Format

Every item MUST end with a trace tag:
- `[Tá»ª DESIGN Â§N]` â€” derived directly from design.md section N
- `[Gá»¢I Ã Bá»” SUNG]` â€” suggested by Planner, not in design.md
- `[Tá»ª AUDIT TÃ€I NGUYÃŠN]` â€” generated because a required resource was found missing during audit
- `[Cáº¦N LÃ€M RÃ•]` â€” unclear in design.md, needs clarification

## Step VERIFY â€” Kiá»ƒm chá»©ng & ÄÃ³ng bÄƒng Káº¿ hoáº¡ch

Sau khi viáº¿t `todo.md`, Planner thá»±c hiá»‡n bÆ°á»›c tá»± kiá»ƒm tra cuá»‘i cÃ¹ng:

1. **Resource Integrity Check**: Äá»‘i chiáº¿u báº£ng Pre-requisites vá»›i thá»±c táº¿ `resources/`.
   - Náº¿u báº¥t ká»³ tÃ i nguyÃªn Sá»‘ng cÃ²n (Crucial) nÃ o ghi `Status: â¬œ`, Planner PHáº¢I thÃ´ng bÃ¡o: "Káº¿ hoáº¡ch chÆ°a thá»ƒ hoÃ n thÃ nh vÃ¬ thiáº¿u tÃ i nguyÃªn kiáº¿n thá»©c."
   - Planner há»— trá»£ user soáº¡n tháº£o báº£n nhÃ¡p (draft) cÃ¡c resources thiáº¿u trÆ°á»›c khi xÃ¡c nháº­n xong.

2. **Standard Alignment**: Kiá»ƒm tra xem cÃ¡c task vÃ  pre-requisites cÃ³ tuÃ¢n thá»§ `architect.md` (7 Zones) vÃ  `DESIGN.md` (Master Suite workflow) khÃ´ng.

3. **DoD Verification**: Äáº£m báº£o báº£ng Definition of Done trong `todo.md` bao quÃ¡t háº¿t cÃ¡c zone trong thiáº¿t káº¿.

## Confirm

Present the completed todo.md to the user for review.

- If user confirms â†’ mark planning as complete.
- If user requests changes â†’ update todo.md accordingly and present again.

## Guardrails

| G1 | Trace required      | Every item in todo.md MUST trace back to `design.md Â§N`            |
| G2 | Label sources       | Mark `[Tá»ª DESIGN]` / `[Gá»¢I Ã]` / `[Tá»ª AUDIT CUSTOM]`              |
| G3 | No inventing        | Only DECOMPOSE the design â€” do NOT add new requirements            |
| G4 | List, don't do      | List knowledge needed â†’ user prepares. Do NOT search/generate      |
| G5 | Ground in design.md | design.md is the ONLY ground truth. If unclear â†’ Notes [Cáº¦N LÃ€M RÃ•] |
| G6 | **Resource Gate**   | Planner chá»‰ Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u 'Complete' khi `resources/` Ä‘Ã£ Ä‘á»§ dá»¯ liá»‡u domain Ä‘á»ƒ Builder lÃ m viá»‡c. |

## Error Handling

- If `design.md` not found â†’ Report error, suggest running Skill Architect first.
- If design.md Zone Mapping (Â§3) is empty â†’ Report: "Design has no Zone Mapping. Cannot plan."
- If information is unclear â†’ Write to Notes section with `[Cáº¦N LÃ€M RÃ•]` tag.
- If user asks to write code â†’ Decline. Suggest using `skill-builder` instead.

## Related Skills

- **Skill Architect** (`skill-architect`): Creates `design.md` â€” input for this skill.
- **Skill Builder** (`skill-builder`): Reads `design.md` + `todo.md`, implements the skill.

## Context Directory

Input and output live in `.skill-context/{skill-name}/` at project root:

```
.skill-context/{skill-name}/
â”œâ”€â”€ design.md       â† Skill Architect writes here (INPUT)
â”œâ”€â”€ todo.md         â† THIS SKILL writes here (OUTPUT)
â”œâ”€â”€ build-log.md    â† Skill Builder writes here
â””â”€â”€ resources/      â† User-provided reference documents (INPUT)
```

```

### loop/plan-checklist.md
```md
# Plan Quality & Resource Checklist

> DÃ¹ng trong Step VERIFY cá»§a Skill Planner

## 1. Resource Verification (Cá»‘t lÃµi)

- [ ] **Existence**: Má»i tÃ i nguyÃªn liá»‡t kÃª trong `todo.md` Â§Pre-requisites Ä‘á»u cÃ³ file tÆ°Æ¡ng á»©ng trong `resources/`.
- [ ] **Richness**: TÃ i liá»‡u trong `resources/` khÃ´ng pháº£i lÃ  file rá»—ng. CÃ³ Ä‘á»§ thÃ´ng tin "hÃ nh Ä‘á»™ng Ä‘Æ°á»£c" (actionable).
- [ ] **Traceability**: `todo.md` chá»‰ ra rÃµ task nÃ o sá»­ dá»¥ng tÃ i nguyÃªn nÃ o táº¡i Â§3 Knowledge & Resources.

## 2. Structure & Standard Alignment

- [ ] **7-Zone Check**: Káº¿ hoáº¡ch cÃ³ bao phá»§ Ä‘á»§ cÃ¡c Zone quan trá»ng Ä‘Ã£ Ä‘á»‹nh nghÄ©a trong `design.md Â§3`.
- [ ] **Phase Order**: CÃ¡c phase Ä‘Æ°á»£c sáº¯p xáº¿p theo trÃ¬nh tá»± logic (Knowledge/Audit â†’ Setup â†’ Build â†’ Verify).
- [ ] **Trace Tag Check**: Má»i task Ä‘á»u cÃ³ tag `[Tá»ª DESIGN]`, `[Gá»¢I Ã]`, hoáº·c `[Tá»ª AUDIT]`.

## 3. Definition of Done (DoD)

- [ ] DoD cÃ³ bao gá»“m tiÃªu chÃ­ vá» cháº¥t lÆ°á»£ng tÃ i nguyÃªn kiáº¿n thá»©c khÃ´ng?
- [ ] DoD cÃ³ yÃªu cáº§u Builder pháº£i cháº¡y script verify trÆ°á»›c khi bÃ n giao khÃ´ng?

## 4. Gatekeeper Rule

- [ ] Planner cÃ³ Ä‘ang Ä‘á»ƒ tráº¡ng thÃ¡i `ğŸŸ¢ COMPLETE` trong khi tÃ i nguyÃªn quan trá»ng váº«n lÃ  `â¬œ Missing` khÃ´ng? (Náº¾U CÃ“ -> Chuyá»ƒn vá» `âšª PENDING`).

```

### knowledge/skill-packaging.md
```md
# Skill Packaging â€” ÄÃ³ng gÃ³i Ká»¹ nÄƒng Con ngÆ°á»i thÃ nh Agent Skill

> TÃ i liá»‡u ná»n táº£ng cho Skill Planner
> Má»¥c Ä‘Ã­ch: HÆ°á»›ng dáº«n cÃ¡ch phÃ¢n tÃ­ch vÃ  chuyá»ƒn Ä‘á»•i ká»¹ nÄƒng con ngÆ°á»i
> thÃ nh Agent Skill cÃ³ cáº¥u trÃºc.

---

## 1. NguyÃªn táº¯c ÄÃ³ng gÃ³i

Má»i ká»¹ nÄƒng con ngÆ°á»i Ä‘á»u gá»“m 3 thÃ nh pháº§n:

```
Ká»¸ NÄ‚NG CON NGÆ¯á»œI = KIáº¾N THá»¨C + QUY TRÃŒNH + PHÃN ÄOÃN
TRáº NG THÃI Sáº´N SÃ€NG = TÃ€I LIá»†U RICH (Äá»§ chi tiáº¿t) + TRACEABILITY (Dáº«n nguá»“n)
```

## 2. TiÃªu chuáº©n Sáºµn sÃ ng cá»§a TÃ i nguyÃªn (Resource Readiness)

Má»™t tÃ i nguyÃªn kiáº¿n thá»©c trong `resources/` chá»‰ Ä‘Æ°á»£c coi lÃ  Ä‘áº¡t chuáº©n (âœ…) khi:
1. **Content Density**: KhÃ´ng Ä‘Æ°á»£c lÃ  file rá»—ng hoáº·c chá»‰ cÃ³ heading chung chung. Pháº£i cÃ³ quy táº¯c (rules), vÃ­ dá»¥ (examples), hoáº·c quy trÃ¬nh (procedures) cá»¥ thá»ƒ.
2. **Context Alignment**: Pháº£i giáº£i quyáº¿t Ä‘Æ°á»£c Ã­t nháº¥t má»™t "Blind Spot" hoáº·c "Domain Knowledge" Ä‘Æ°á»£c liá»‡t kÃª trong `design.md`.
3. **Builder Friendly**: ThÃ´ng tin pháº£i á»Ÿ dáº¡ng mÃ  Builder cÃ³ thá»ƒ copy/transform thÃ nh cÃ¡c file `knowledge/` trong skill package.

**Quy táº¯c Gatekeeper**:
- Planner **KHÃ”NG ÄÆ¯á»¢C** Ä‘Ã¡nh dáº¥u hoÃ n thÃ nh (ğŸŸ¢ COMPLETE) náº¿u cÃ²n tÃ i nguyÃªn quan trá»ng á»Ÿ tráº¡ng thÃ¡i `â¬œ Missing`.
- Náº¿u tÃ i nguyÃªn quan trá»ng thiáº¿u, Planner pháº£i yÃªu cáº§u user cung cáº¥p hoáº·c há»— trá»£ user viáº¿t nhÃ¡p.

| ThÃ nh pháº§n | á» con ngÆ°á»i | á» Agent Skill | Zone tÆ°Æ¡ng á»©ng |
|-----------|-------------|---------------|----------------|
| **Kiáº¿n thá»©c** | Há»c tá»« sÃ¡ch, kinh nghiá»‡m, training | `knowledge/` files | Knowledge Zone |
| **Quy trÃ¬nh** | TrÃ¬nh tá»± bÆ°á»›c lÃ m, know-how | `SKILL.md` phases/steps | Core Zone |
| **PhÃ¡n Ä‘oÃ¡n** | Trá»±c giÃ¡c, kinh nghiá»‡m xá»­ lÃ½ tÃ¬nh huá»‘ng | `loop/` checklists + guardrails | Loop Zone |

**NguyÃªn táº¯c cá»‘t lÃµi**: AI cáº§n cáº£ 3 thÃ nh pháº§n á»Ÿ dáº¡ng **TÆ¯á»œNG MINH** (explicit).
- Kiáº¿n thá»©c ngáº§m (tacit) â†’ pháº£i Ä‘Æ°á»£c viáº¿t ra thÃ nh tÃ i liá»‡u
- Quy trÃ¬nh trong Ä‘áº§u â†’ pháº£i Ä‘Æ°á»£c code hÃ³a thÃ nh steps
- PhÃ¡n Ä‘oÃ¡n báº±ng cáº£m giÃ¡c â†’ pháº£i Ä‘Æ°á»£c chuyá»ƒn thÃ nh rules/checklists

---

## 2. MÃ´ hÃ¬nh 3 Táº§ng Kiáº¿n thá»©c

Khi phÃ¢n tÃ­ch má»—i Zone trong design.md, Planner PHáº¢I há»i 3 cÃ¢u há»i theo 3 táº§ng:

| Táº§ng | TÃªn | CÃ¢u há»i chuáº©n | Logic Audit (Má»šI) |
|------|-----|---------------|-------------------|
| **1** | **Domain** | "Kiáº¿n thá»©c miá»n nÃ o cáº§n Ä‘á»ƒ HIá»‚U báº£n cháº¥t thá»© cáº§n lÃ m?" | **Báº®T BUá»˜C Audit**: Kiá»ƒm tra thÆ° má»¥c `resources/`. Náº¿u chÆ°a cÃ³ tÃ i liá»‡u tÆ°Æ¡ng á»©ng â†’ sinh **TASK** chuáº©n bá»‹ tÃ i liá»‡u. Náº¿u Ä‘Ã£ cÃ³ â†’ sinh **PRE-REQ** vÃ  Ä‘Ã¡nh dáº¥u `âœ…`. |
| **2** | **Technical** | "CÃ´ng cá»¥/ká»¹ thuáº­t nÃ o cáº§n Ä‘á»ƒ TRIá»‚N KHAI?" | Kiá»ƒm tra tÃ i liá»‡u ká»¹ thuáº­t/hÆ°á»›ng dáº«n tool. |
| **3** | **Packaging** | "LÃ m sao MAP vÃ o Zone tÆ°Æ¡ng á»©ng cá»§a agent skill?" | Ghi domain rules vÃ o `knowledge/`. Táº¡o templates, script validation, vÃ  loop checklist. |

### CÃ¡ch Ã¡p dá»¥ng:

```
â”œâ”€â”€ Há»i Táº§ng 1 (Domain):
â”‚   â”œâ”€â”€ Audit `resources/`: TÃ i liá»‡u X Ä‘Ã£ cÃ³ chÆ°a?
â”‚   â”œâ”€â”€ CÃ“ â†’ Sinh PRE-REQUISITE (Ä‘Ã¡nh dáº¥u âœ…)
â”‚   â””â”€â”€ KHÃ”NG â†’ Sinh **TASK**: "Soáº¡n tháº£o tÃ i liá»‡u X" [Tá»ª AUDIT TÃ€I NGUYÃŠN]
â”‚
â”œâ”€â”€ Há»i Táº§ng 2 (Technical):
â”‚   â†’ Sinh PRE-REQUISITE: "User cáº§n chuáº©n bá»‹ tÃ i liá»‡u ká»¹ thuáº­t Y"
â”‚
â””â”€â”€ Há»i Táº§ng 3 (Packaging):
    â†’ Sinh TASK: "Táº¡o file Z trong zone T" [Tá»ª DESIGN Â§N]
```

---

## 3. Checklist Chuyá»ƒn Ä‘á»•i

Cho Má»–I Zone trong design.md Â§3, há»i 5 cÃ¢u há»i sau:

| # | CÃ¢u há»i | Náº¿u CÃ“ â†’ Sinh gÃ¬? | VÃ­ dá»¥ |
|---|---------|---------------------|-------|
| C1 | Kiáº¿n thá»©c miá»n nÃ o cáº§n? | Audit `resources/`. Náº¿u thiáº¿u sinh **Task soáº¡n tháº£o**, náº¿u Ä‘á»§ sinh **Pre-req âœ…** | "Soáº¡n tháº£o tÃ i liá»‡u cáº¥u trÃºc UML Sequence" |
| C2 | CÃ´ng cá»¥/ká»¹ thuáº­t nÃ o cáº§n? | Pre-req: liá»‡t kÃª tÃ i liá»‡u ká»¹ thuáº­t | "Cáº§n tham kháº£o Mermaid docs" |
| C3 | Quy trÃ¬nh nÃ o cáº§n chuáº©n hÃ³a? | Task: táº¡o phase/step trong SKILL.md | "Táº¡o Phase 2: Váº½ diagram" |
| C4 | PhÃ¡n Ä‘oÃ¡n nÃ o cáº§n guardrail? | Task: táº¡o checklist trong loop/ | "Táº¡o loop/diagram-quality-checklist.md" |
| C5 | Output nÃ o cáº§n khuÃ´n máº«u? | Task: táº¡o template trong templates/ | "Táº¡o templates/sequence.mmd" |

**Quy táº¯c**:
- Náº¿u cÃ¢u tráº£ lá»i lÃ  "KhÃ´ng cáº§n" â†’ bá» qua, khÃ´ng sinh entry
- Má»i entry sinh ra PHáº¢I cÃ³ trace tag
- C1, C2 sinh PRE-REQUISITES (user chuáº©n bá»‹)
- C3, C4, C5 sinh TASKS (builder thá»±c hiá»‡n)

---

## 4. NguyÃªn táº¯c Chá»‘ng áº¢o giÃ¡c

### 4 nguyÃªn táº¯c Báº®T BUá»˜C:

| # | NguyÃªn táº¯c | Giáº£i thÃ­ch | Vi pháº¡m = |
|---|-----------|-----------|-----------|
| AH1 | **Trace báº¯t buá»™c** | Má»i task/pre-req trong todo.md PHáº¢I chá»‰ vá» section cá»¥ thá»ƒ trong design.md | Viáº¿t task khÃ´ng cÃ³ `[Tá»ª DESIGN Â§N]` |
| AH2 | **KhÃ´ng phÃ¡t minh** | Chá»‰ PHÃ‚N RÃƒ thiáº¿t káº¿ thÃ nh steps, KHÃ”NG thÃªm requirements má»›i | Viáº¿t requirement mÃ  design.md khÃ´ng Ä‘á» cáº­p |
| AH3 | **KhÃ´ng Ä‘oÃ¡n domain** | Náº¿u khÃ´ng cháº¯c vá» kiáº¿n thá»©c miá»n â†’ liá»‡t kÃª Ä‘á»ƒ user cung cáº¥p | Tá»± viáº¿t ná»™i dung domain knowledge |
| AH4 | **ÄÃ¡nh dáº¥u nguá»“n** | Má»i entry pháº£i ghi rÃµ nguá»“n | KhÃ´ng phÃ¢n biá»‡t `[Tá»ª DESIGN]` vÃ  `[Gá»¢I Ã]` |
| AH5 | **Verify or Fail** | Pháº£i xÃ¡c minh tÃ i nguyÃªn thá»±c táº¿ trÆ°á»›c khi káº¿t thÃºc planning | HoÃ n thÃ nh planning khi resources cÃ²n trá»‘ng |

### Tags chuáº©n:

```
[Tá»ª DESIGN Â§N]    â€” Ná»™i dung láº¥y trá»±c tiáº¿p tá»« design.md section N
[Gá»¢I Ã Bá»” SUNG]   â€” Planner gá»£i Ã½ thÃªm, KHÃ”NG CÃ“ trong design.md
[Cáº¦N LÃ€M RÃ•]      â€” Design.md khÃ´ng rÃµ rÃ ng, cáº§n user lÃ m rÃµ
```

### Quy táº¯c Xá»¬ LÃ khi gáº·p máº­p má»:

```
Design.md rÃµ rÃ ng?
â”œâ”€â”€ CÃ“ â†’ Sinh entry vá»›i [Tá»ª DESIGN Â§N]
â”œâ”€â”€ Máº¬P Má»œ â†’ Sinh entry vá»›i [Cáº¦N LÃ€M RÃ•] vÃ o Notes
â””â”€â”€ KHÃ”NG CÃ“ nhÆ°ng há»¯u Ã­ch â†’ Sinh entry vá»›i [Gá»¢I Ã Bá»” SUNG]
```

---

## TÃ³m táº¯t

```
Planner Ä‘á»c design.md
    â”‚
    â”œâ”€â”€ Vá»›i má»—i Zone cÃ³ ná»™i dung (Â§3):
    â”‚   â”œâ”€â”€ 3 Táº§ng kiáº¿n thá»©c â†’ sinh pre-reqs + tasks
    â”‚   â””â”€â”€ 5 CÃ¢u checklist â†’ sinh pre-reqs + tasks
    â”‚
    â”œâ”€â”€ Má»i entry cÃ³ trace tag (AH1, AH4)
    â”œâ”€â”€ KhÃ´ng bá»‹a requirements (AH2)
    â”œâ”€â”€ KhÃ´ng Ä‘oÃ¡n domain (AH3)
    â”‚
    â””â”€â”€ Output: todo.md (5 sections)
```

```

### knowledge/architect.md
```md
# AGENT SKILL FRAMEWORK - TÃ€I LIá»†U KIáº¾N TRÃšC

================================================================================
                        PHáº¦N 1: Tá»”NG QUAN KIáº¾N TRÃšC
================================================================================

## 1.1. MÃ´ hÃ¬nh Meta-Skill Framework

MÃ´ hÃ¬nh nÃ y Ä‘á»‹nh nghÄ©a cÃ¡ch tiáº¿p cáº­n tá»•ng thá»ƒ Ä‘á»ƒ xÃ¢y dá»±ng má»™t bá»™ Agent Skill
cÃ³ cáº¥u trÃºc, logic vÃ  kháº£ nÄƒng kiá»ƒm soÃ¡t cháº¥t lÆ°á»£ng.

```mermaid
graph TD
    subgraph MetaSkillFramework [MÃ” HÃŒNH KIá»‚M CÃCH - META-SKILL FRAMEWORK]
        P1[PHA 1: NHáº¬N DIá»†N<br/>Input/Output] --> P2[PHA 2: CHIáº¾N LÆ¯á»¢C<br/>Checklist/Plan]
        P2 --> P3[PHA 3: THá»°C THI<br/>Research/Action]
        
        P1 --> D1[Dá»¯ liá»‡u Gá»‘c]
        P2 --> D2[Quy trÃ¬nh Chuáº©n]
        P3 --> D3[TÆ°Æ¡ng tÃ¡c & Tháº©m Ä‘á»‹nh]
        
        D1 --> LC[VÃ’NG Láº¶P KIá»‚M SOÃT<br/>Verify/Fix/Loop]
        D2 --> LC
        D3 --> LC
    end

    style MetaSkillFramework fill:#f9f9f9,stroke:#333,stroke-width:2px
    style LC fill:#e1f5fe,stroke:#01579b
```


## 1.2. Kiáº¿n trÃºc "NgÃ´i nhÃ " (Building Metaphor)

```mermaid
graph TD
    Outcome[MÃI NHÃ€: GIÃ TRá»Š Äáº¦U RA - Outcome<br/>- Sáº£n pháº©m hoÃ n thiá»‡n, chÃ­nh xÃ¡c, cÃ³ tháº©m má»¹<br/>- NgÆ°á»i dÃ¹ng hÃ i lÃ²ng vÃ  tin tÆ°á»Ÿng]
    
    subgraph Pillars [CÃC TRá»¤ Cá»˜T]
        T1[TRá»¤ 1: TRI THá»¨C<br/>Knowledge]
        T2[TRá»¤ 2: QUY TRÃŒNH<br/>Logic/Steps]
        T3[TRá»¤ 3: KIá»‚M SOÃT<br/>Guardrails]
    end
    
    Foundation[Ná»€N MÃ“NG: NGHIÃŠN Cá»¨U & PHÃ‚N TÃCH<br/>Input, Tools, Environment, User Pain-points]
    
    Foundation --> Pillars
    Pillars --> Outcome

    style Outcome fill:#e8f5e9,stroke:#2e7d32
    style Foundation fill:#fff3e0,stroke:#ef6c00
    style Pillars fill:#f3e5f5,stroke:#7b1fa2
```


================================================================================
                  PHáº¦N 2: CÃC THÃ€NH PHáº¦N KIáº¾N TRÃšC (ZONES)
================================================================================

## 2.1. Cáº¥u trÃºc thÆ° má»¥c chuáº©n

```mermaid
mindmap
  root((your-skill-name))
    SKILL.md:::core
    .skillfish.json
    knowledge
      standards.md
      best-practices.md
      design-patterns.md
    scripts
      python
        analyzer.py
        validator.py
        generator.py
      javascript
        formatter.js
        mermaid-render.js
      bash
        scan-project.sh
        setup-env.sh
        export-diagram.sh
    templates
      sequence.mmd
      class.mmd
      activity.mmd
    data
      config.yaml
      schema.json
      seed-data.csv
    loop
      checklist.md
      tasks.md
      phase-verify.md
      final-verify.md
      test-cases
        login-flow.md
        order-flow.md
    assets
      icons
      fonts
      images

    classDef core fill:#f96
```


## 2.2. Chi tiáº¿t tá»«ng Zone

| ZONE | Má»¤C ÄÃCH | VÃ Dá»¤ Ná»˜I DUNG | KHI NÃ€O AI Äá»ŒC? |
| :--- | :--- | :--- | :--- |
| **SKILL.md (Core)** | Linh há»“n Ä‘iá»u khiá»ƒn | Persona, Steps, Guardrails | LUÃ”N LUÃ”N (khi skill Ä‘Æ°á»£c kÃ­ch hoáº¡t) |
| **knowledge/** | Tri thá»©c chuáº©n | UML rules, Design patterns | Khi cáº§n tham kháº£o quy táº¯c |
| **scripts/** | CÃ´ng cá»¥ tá»± Ä‘á»™ng hÃ³a | Python analyzer, Bash generator | Khi cáº§n thá»±c thi logic phá»©c táº¡p |
| **templates/** | Máº«u Ä‘áº§u ra | Mermaid templates, Code stubs | Khi cáº§n táº¡o output chuáº©n |
| **data/** | Cáº¥u hÃ¬nh & dá»¯ liá»‡u cá»©ng | YAML config, JSON schema | Khi cáº§n Ä‘á»c cáº¥u hÃ¬nh cá»‘ Ä‘á»‹nh |
| **loop/** | Kiá»ƒm soÃ¡t cháº¥t lÆ°á»£ng | Checklist, Tasks, Test cases | SAU má»—i phase Ä‘á»ƒ tá»± kiá»ƒm tra |
| **assets/** | TÃ i nguyÃªn tÄ©nh | Icons, Fonts, Images | Khi táº¡o output cÃ³ media |



================================================================================
                     PHáº¦N 3: WORKFLOW XÃ‚Y Dá»°NG SKILL
================================================================================

## 3.1. Quy trÃ¬nh 5 bÆ°á»›c

```mermaid
flowchart LR
    B1[BÆ¯á»šC 1: KHáº¢O SÃT<br/>Research] --> B2[BÆ¯á»šC 2: THIáº¾T Káº¾<br/>Design]
    B2 --> B3[BÆ¯á»šC 3: XÃ‚Y Dá»°NG<br/>Build]
    B3 --> B4[BÆ¯á»šC 4: KIá»‚M Äá»ŠNH<br/>Verify]
    B4 --> B5[BÆ¯á»šC 5: Báº¢O TRÃŒ<br/>Maintenance]

    subgraph Details [Chi tiáº¿t tá»«ng bÆ°á»›c]
        direction TB
        D1["- XÃ¡c Ä‘á»‹nh Pain Point<br/>- Thu tháº­p Use Cases<br/>- Liá»‡t kÃª Input/Output"]
        D2["- PhÃ¢n vÃ¹ng thÃ nh pháº§n<br/>- Váº½ sÆ¡ Ä‘á»“ kiáº¿n trÃºc<br/>- Äá»‹nh nghÄ©a luá»“ng lÃ m viá»‡c"]
        D3["- Táº¡o cáº¥u trÃºc thÆ° má»¥c<br/>- Náº¡p dá»¯ liá»‡u vÃ o cÃ¡c vÃ¹ng<br/>- Viáº¿t SKILL.md"]
        D4["- Cháº¡y Test Cases<br/>- Verify Checklist<br/>- Rollback náº¿u Fail"]
        D5["- Feedback Loop<br/>- Version Control<br/>- Cáº­p nháº­t Skill"]
    end

    B1 -.-> D1
    B2 -.-> D2
    B3 -.-> D3
    B4 -.-> D4
    B5 -.-> D5

    style B1 fill:#f9f,stroke:#333
    style B5 fill:#0ff,stroke:#333
```


## 3.2. Chi tiáº¿t tá»«ng bÆ°á»›c

### BÆ°á»›c 1: Kháº£o sÃ¡t (Research & Discovery)

    Má»¥c tiÃªu: Hiá»ƒu rÃµ "vÃ¹ng Ä‘áº¥t" mÃ¬nh Ä‘á»‹nh xÃ¢y.
    
    Viá»‡c cáº§n lÃ m:
    [1] XÃ¡c Ä‘á»‹nh Input: NgÆ°á»i dÃ¹ng sáº½ Ä‘Æ°a cÃ¡i gÃ¬? (RÃ¡c hay vÃ ng?)
    [2] XÃ¡c Ä‘á»‹nh Tools: AI sáº½ dÃ¹ng Terminal, Browser hay Library nÃ o?
    [3] TÃ¬m ra "Äiá»ƒm mÃ¹" cá»§a AI: AI thÆ°á»ng sai á»Ÿ Ä‘Ã¢u trong cÃ´ng viá»‡c nÃ y?

### BÆ°á»›c 2: Thiáº¿t káº¿ (System Design)

    Má»¥c tiÃªu: Táº¡o ra logic "tÆ°á»ng minh" cho AI.
    
    Viá»‡c cáº§n lÃ m:
    [1] XÃ¢y dá»±ng Quy trÃ¬nh logic (Flowchart): BÆ°á»›c A -> BÆ°á»›c B
    [2] XÃ¡c Ä‘á»‹nh Äiá»ƒm dá»«ng tÆ°Æ¡ng tÃ¡c: Khi nÃ o AI PHáº¢I há»i ngÆ°á»i dÃ¹ng?
    [3] Äá»‹nh nghÄ©a Äá»‹nh dáº¡ng Output: Mermaid, Markdown, hay Code?

### BÆ°á»›c 3: XÃ¢y dá»±ng (Build)

    Má»¥c tiÃªu: Viáº¿t file SKILL.md vÃ  náº¡p tÃ i nguyÃªn.
    
    Viá»‡c cáº§n lÃ m:
    [1] Persona: Äá»‹nh vá»‹ AI lÃ  Senior Architect hay Senior Coder
    [2] Phase-based Steps: Chia nhá» cÃ´ng viá»‡c thÃ nh cÃ¡c Pha
    [3] Táº¡o templates, scripts, knowledge files

### BÆ°á»›c 4: Kiá»ƒm Ä‘á»‹nh (Verify)

    Má»¥c tiÃªu: Äáº£m báº£o Skill hoáº¡t Ä‘á»™ng Ä‘Ãºng.
    
    Viá»‡c cáº§n lÃ m:
    [1] Cháº¡y Test Cases
    [2] Verify Checklist
    [3] Rollback náº¿u phÃ¡t hiá»‡n lá»—i

### BÆ°á»›c 5: Báº£o trÃ¬ (Maintenance)

    Má»¥c tiÃªu: Giá»¯ cho Skill khÃ´ng bá»‹ "lá»—i thá»i".
    
    Viá»‡c cáº§n lÃ m:
    [1] Feedback Loop: Ghi láº¡i chá»— AI lÃ m dá»Ÿ
    [2] Version Control: Cáº­p nháº­t khi mÃ´i trÆ°á»ng thay Ä‘á»•i


================================================================================
                   PHáº¦N 4: CÆ  CHáº¾ KIá»‚M SOÃT (LOOP/VERIFY)
================================================================================

## 4.1. Hai cháº¿ Ä‘á»™ kiá»ƒm soÃ¡t

```mermaid
flowchart TD
    subgraph LoopZone [VÃ™NG LOOP - KIá»‚M SOÃT CHáº¤T LÆ¯á»¢NG]
        direction TB
        Simple[SIMPLE MODE<br/>1 láº§n cuá»‘i]
        Phase[PHASE MODE<br/>Má»—i phase]
        
        SimpleCheck{Khi nÃ o dÃ¹ng?}
        PhaseCheck{Khi nÃ o dÃ¹ng?}
        
        SimpleFlow[Input -> Work -> Output<br/>-> VERIFY]
        PhaseFlow[Phase 1 -> V<br/>Phase 2 -> V<br/>Phase 3 -> V<br/>Final -> VV]

        Simple --> SimpleCheck
        Phase --> PhaseCheck
        
        SimpleCheck -->|YÃªu cáº§u Ä‘Æ¡n giáº£n| SimpleFlow
        PhaseCheck -->|YÃªu cáº§u phá»©c táº¡p| PhaseFlow
    end

    style Simple fill:#fff9c4,stroke:#fbc02d
    style Phase fill:#c8e6c9,stroke:#388e3c
```


## 4.2. Cáº¥u trÃºc thÆ° má»¥c loop/

```
loop/
+-- checklist.md            <-- Danh sÃ¡ch kiá»ƒm tra chung
+-- tasks.md                <-- CÃ´ng viá»‡c cáº§n hoÃ n thÃ nh
+-- phase-verify.md         <-- Checklist riÃªng cho tá»«ng Phase
+-- final-verify.md         <-- Checklist kiá»ƒm tra cuá»‘i cÃ¹ng
+-- test-cases/
    +-- login-flow.md
    +-- order-flow.md
```


================================================================================
                    PHáº¦N 5: VÃ™NG SCRIPTS (CÃ”NG Cá»¤)
================================================================================

## 5.1. Ba loáº¡i script

```mermaid
graph LR
    subgraph ScriptsZone [VÃ™NG SCRIPTS - CÃ”NG Cá»¤ THá»°C THI]
        direction TB
        Python[Python<br/>Xá»­ lÃ½ logic, phÃ¢n tÃ­ch text]
        JS[JavaScript<br/>Xá»­ lÃ½ frontend, JSON, DOM]
        Bash[Bash<br/>Lá»‡nh há»‡ thá»‘ng, file system]
        
        Python --- P1[analyzer.py<br/>validator.py<br/>generator.py]
        JS --- J1[formatter.js<br/>mermaid-render.js]
        Bash --- B1[scan-project.sh<br/>setup-env.sh<br/>export-diagram.sh]
    end

    style Python fill:#e3f2fd,stroke:#1e88e5
    style JS fill:#fffde7,stroke:#fdd835
    style Bash fill:#f5f5f5,stroke:#757575
```


## 5.2. Ma tráº­n chá»n script theo cÃ´ng viá»‡c

| LOáº I CÃ”NG VIá»†C | SCRIPT Æ¯U TIÃŠN |
| :--- | :--- |
| **PhÃ¢n tÃ­ch text, NLP** | Python |
| **Xá»­ lÃ½ JSON, format data** | JavaScript |
| **QuÃ©t thÆ° má»¥c, Ä‘á»c cáº¥u trÃºc** | Bash |
| **Validate syntax** | Python |
| **Render diagram** | JavaScript |
| **Táº¡o file, copy template** | Bash |
| **Gá»i API bÃªn ngoÃ i** | Python/JS |



================================================================================
               PHáº¦N 6: PROGRESSIVE DISCLOSURE (Náº P TÃ€I NGUYÃŠN)
================================================================================

## 6.1. Hai táº§ng náº¡p file

```mermaid
flowchart TD
    subgraph ProgressiveDisclosure [CÆ  CHáº¾ Náº P TÃ€I NGUYÃŠN]
        direction TB
        Mandatory[Táº¦NG 1: Báº®T BUá»˜C Äá»ŒC<br/>Mandatory Loading]
        Optional[Táº¦NG 2: Tá»° QUYáº¾T Äá»ŠNH<br/>Conditional Loading]
        
        Mandatory --- M1["- SKILL.md<br/>- knowledge/standards.md<br/>- loop/checklist.md"]
        Optional --- O1["- knowledge/design-patterns.md<br/>- templates/*.mmd<br/>- data/schema.json"]
        
        Mandatory -->|Sau khi Ä‘á»c xong| Optional
    end

    style Mandatory fill:#ffcdd2,stroke:#e53935
    style Optional fill:#c5cae9,stroke:#3f51b5
```



================================================================================
                  PHáº¦N 7: LUá»’NG HOáº T Äá»˜NG Cá»¦A AI AGENT
================================================================================

## 7.1. Execution Flow

```mermaid
sequenceDiagram
    participant U as USER
    participant A as AI AGENT
    participant K as Knowledge Zone
    participant S as Scripts Zone
    participant T as Templates Zone
    participant L as Loop Zone

    U->>A: Input "Váº½ sequence cho Login"
    A->>A: STEP 1: Äá»c SKILL.md (Persona & Steps)
    A->>A: STEP 2: PhÃ¢n tÃ­ch Input (Use Case)
    Note over A,U: [Interaction Point] Há»i náº¿u thiáº¿u thÃ´ng tin
    A->>K: STEP 3: Tham kháº£o standards.md, uml-rules.md
    A->>S: STEP 4: Cháº¡y analyzer.py (BÃ³c tÃ¡ch entities)
    A->>T: STEP 5: Ãp dá»¥ng seq.mmd lÃ m khung
    A->>A: STEP 6: Táº¡o Output (Mermaid code)
    A->>L: STEP 7: Tá»± kiá»ƒm tra vá»›i checklist.md
    alt Fail?
        L-->>A: Quay láº¡i Step tÆ°Æ¡ng á»©ng
    else Pass?
        A->>U: Tráº£ káº¿t quáº£ cuá»‘i cÃ¹ng
    end
```



================================================================================
                   PHáº¦N 8: KIáº¾N TRÃšC Tá»”NG Há»¢P (v2.0)
================================================================================

```mermaid
graph TD
    Skill((SKILL.md<br/>CORE))
    
    subgraph Tier1 [Táº¦NG 1: Báº®T BUá»˜C]
        K1[knowledge/standards]
        L1[loop/checklist]
    end
    
    subgraph Tier2 [Táº¦NG 2: Tá»° QUYáº¾T]
        S1[scripts/]
        T1[templates/]
        D1[data/]
        A1[assets/]
        K2[knowledge/patterns]
    end

    Skill --> Tier1
    Skill --> Tier2

    style Skill fill:#f96,stroke:#333,stroke-width:4px
    style Tier1 fill:#fff9c4,stroke:#fbc02d
    style Tier2 fill:#e1f5fe,stroke:#01579b
```



================================================================================
                            PHáº¦N 9: PHá»¤ Lá»¤C
================================================================================

## 9.1. NguyÃªn táº¯c viáº¿t SKILL.md

    [1] Imperative Form: LuÃ´n báº¯t Ä‘áº§u báº±ng Ä‘á»™ng tá»« máº¡nh
        VÃ­ dá»¥: "Analyze the input", "Generate the code"
        KHÃ”NG dÃ¹ng: "You should analyze"
    
    [2] Progressive Disclosure: Chá»‰ Ä‘á»ƒ nhá»¯ng gÃ¬ AI cáº§n lÃ m NGAY Láº¬P Tá»¨C
        trong SKILL.md. TÃ i liá»‡u tham kháº£o dÃ i Ä‘á»ƒ trong references/
    
    [3] Verified Steps: Má»—i giai Ä‘oáº¡n (Phase) pháº£i káº¿t thÃºc báº±ng:
        "Check the output against the checklist in loop/checklist.md"

## 9.2. Äiá»ƒm dá»«ng tÆ°Æ¡ng tÃ¡c (Interaction Points)

    AI PHáº¢I dá»«ng láº¡i vÃ  há»i ngÆ°á»i dÃ¹ng khi:
    [1] ThÃ´ng tin Ä‘áº§u vÃ o khÃ´ng Ä‘á»§ Ä‘á»ƒ xá»­ lÃ½
    [2] CÃ³ nhiá»u cÃ¡ch hiá»ƒu khÃ¡c nhau
    [3] Cáº§n xÃ¡c nháº­n trÆ°á»›c khi thá»±c hiá»‡n hÃ nh Ä‘á»™ng cÃ³ rá»§i ro
    [4] Confidence Score dÆ°á»›i 70%

## 9.3. CÆ¡ cháº¿ Rollback

    Náº¿u á»Ÿ Phase N phÃ¡t hiá»‡n lá»—i tá»« Phase M (M < N):
    [1] Ghi nháº­n lá»—i vÃ  nguyÃªn nhÃ¢n
    [2] ThÃ´ng bÃ¡o ngÆ°á»i dÃ¹ng vá» viá»‡c quay láº¡i
    [3] Quay láº¡i Phase M vÃ  sá»­a lá»—i
    [4] Tiáº¿p tá»¥c láº¡i tá»« Phase M

================================================================================
                               Káº¾T THÃšC TÃ€I LIá»†U
================================================================================
PhiÃªn báº£n: 2.0
NgÃ y táº¡o: 2026-02-09
TÃ¡c giáº£: VÅ© ThÆ°Æ¡ng Háº£i (vá»›i sá»± há»— trá»£ cá»§a AI Agent)
================================================================================

```
