# UI Screen Specification: {{MODULE_NAME}}

> **Module**: `{{MODULE_ID}}` — {{MODULE_DESCRIPTION}}
> **Generated by**: `ui-architecture-analyst` | Date: {{DATE}}
> **Traceability**:
> - Schema: `Docs/life-2/database/schema-design/{{SCHEMA_FILE}}`
> - Diagrams: `Docs/life-2/diagrams/` (see §2 per screen for specific files)
> - Specs: `Docs/life-2/specs/{{SPEC_FILE}}`

> **Cross-module components** (Header, Sidebar, Toast, NotificationBanner) — see `Docs/life-2/ui/specs/index.md`.

---

## 1. Screen Inventory

> **Convention**: Screen ID = `SC-{{MODULE_ID}}-[NN]` where NN = 2-digit sequential number (01, 02, ...)

| Screen ID | Tên màn hình | Mục tiêu nghiệp vụ | Actor chính | Use Case Reference |
|-----------|-------------|-------------------|-------------|-------------------|
| `SC-{{MODULE_ID}}-01` | {{SCREEN_01_NAME}} | {{SCREEN_01_GOAL}} | {{SCREEN_01_ACTOR}} | {{SCREEN_01_UC_REF}} |
| `SC-{{MODULE_ID}}-02` | {{SCREEN_02_NAME}} | {{SCREEN_02_GOAL}} | {{SCREEN_02_ACTOR}} | {{SCREEN_02_UC_REF}} |

> *(Add rows as needed. Each row = one UI state a user can navigate to.)*

---

## 2. Detailed Screen Logic

> **Repeat this block for each Screen ID in §1.**

---

### SC-{{MODULE_ID}}-01 — {{SCREEN_01_NAME}}

> **Layout**: `[Header] + [{{LAYOUT_DESCRIPTION}}]`
> **Diagram Reference**: `Docs/life-2/diagrams/{{DIAGRAM_FILE}}`

#### A. Data-Component Binding

> Source: Schema `{{SCHEMA_FILE}}` — field names must match exactly.
> **MANDATORY**: "Source Field" column must be filled for every row. If no schema source → write `[SOURCE MISSING]`.

| UI Element ID | Component Type | Source Field (Schema) | Required | Validation / Constraint |
|---------------|---------------|-----------------------|----------|------------------------|
| `input-{{FIELD_1}}` | Input[text] | `{{COLLECTION}}.{{FIELD_1}}` | ✅ Yes | {{VALIDATION_1}} |
| `input-{{FIELD_2}}` | Input[email] | `{{COLLECTION}}.{{FIELD_2}}` | ✅ Yes | RFC 5321 email format |
| `select-{{FIELD_3}}` | Select | `{{COLLECTION}}.{{FIELD_3}}` | ✅ Yes | enum: [{{OPTIONS}}] |
| `textarea-{{FIELD_4}}` | Textarea | `{{COLLECTION}}.{{FIELD_4}}` | ❌ No | maxLength: {{MAX}} |
| `upload-{{FIELD_5}}` | ImageUpload | `{{COLLECTION}}.{{FIELD_5}}` | ❌ No | Accept: image/*, max {{SIZE}}MB |
| `btn-submit` | Button (primary) | N/A | N/A | Triggers: {{ACTION}} |
| `btn-cancel` | Button (secondary) | N/A | N/A | Navigates to: {{CANCEL_DEST}} |
| `link-{{LINK_NAME}}` | Link | N/A | N/A | Navigates to: SC-{{MODULE_ID}}-{{TARGET_SC}} |

> *(Add rows as needed. Remove unused rows before writing final spec.)*

#### B. Interaction Flow

> Source: `Docs/life-2/diagrams/{{DIAGRAM_FILE}}`

- **Pre-condition**: {{PRE_CONDITION}} (e.g., "User đã đăng nhập" / "User chưa đăng nhập")
- **Main Action**: {{MAIN_ACTION}} (e.g., "User điền form và click btn-submit")
- **System Response (success)**: {{SUCCESS_RESPONSE}} (e.g., "Redirect đến SC-M1-03 / hiển thị toast success")
- **Post-condition**: {{POST_CONDITION}} (e.g., "Session được tạo, cookie được set")
- **Error States**:
  - `{{ERROR_1}}` → Hiển thị: "{{ERROR_1_MSG}}" dưới field `{{ERROR_1_FIELD}}`
  - `{{ERROR_2}}` → Hiển thị toast: "{{ERROR_2_MSG}}"
  - Network error → Hiển thị: "Không thể kết nối. Vui lòng thử lại."

#### C. States & Variations

> Policy (§9 Q2): Error/Empty states = sub-sections below. Only create new SC-ID if layout is FUNDAMENTALLY different.

- **Loading state**: Skeleton loader thay thế form / Spinner trên `btn-submit` khi đang submit. `btn-submit` disabled.
- **Empty state**: {{EMPTY_STATE_DESCRIPTION}} (e.g., "Form trống với placeholder hints visible")
- **Error state**: Field-level error messages dưới input. Form vẫn hiển thị đầy đủ.
- **Success toast**: `toast-success` — Message: "{{SUCCESS_TOAST_MSG}}" — Auto-dismiss sau 3s.
- **Validation summary**: Nếu multiple errors → hiển thị summary ở top of form.
- **Disabled fields**: {{DISABLED_FIELDS_CONDITION}} (e.g., "role field disabled nếu user không phải admin")

---

### SC-{{MODULE_ID}}-02 — {{SCREEN_02_NAME}}

> **Layout**: `[Header] + [{{LAYOUT_2_DESCRIPTION}}]`
> **Diagram Reference**: `Docs/life-2/diagrams/{{DIAGRAM_2_FILE}}`

#### A. Data-Component Binding

| UI Element ID | Component Type | Source Field (Schema) | Required | Validation / Constraint |
|---------------|---------------|-----------------------|----------|------------------------|
| *(fill from schema mapping)* | | | | |

#### B. Interaction Flow

- **Pre-condition**: {{PRE_CONDITION_2}}
- **Main Action**: {{MAIN_ACTION_2}}
- **System Response (success)**: {{SUCCESS_RESPONSE_2}}
- **Post-condition**: {{POST_CONDITION_2}}
- **Error States**: *(list from diagram)*

#### C. States & Variations

- **Loading state**: *(describe)*
- **Empty state**: *(describe)*
- **Error state**: *(describe)*
- **Success toast**: *(describe)*

---

> *(Repeat §2 block for each additional screen)*

---

## 3. UI Contract (Automation Mapping)

> Maps every UI Element ID → `data-testid` for automated testing and Life-3 implementation.
> This section enables AI Life-3 to implement components with correct testability from day one.

| Screen ID | UI Element ID | Semantic Name | data-testid | API Trigger / Route |
|-----------|--------------|--------------|-------------|---------------------|
| `SC-{{MODULE_ID}}-01` | *(root container)* | {{SCREEN_01_NAME}} Container | `sc-{{MODULE_ID_LOWER}}-01` | — |
| `SC-{{MODULE_ID}}-01` | `input-{{FIELD_1}}` | {{FIELD_1}} Input | `input-{{FIELD_1}}` | — |
| `SC-{{MODULE_ID}}-01` | `btn-submit` | Submit Button | `btn-submit` | `POST /api/{{ENDPOINT}}` |
| `SC-{{MODULE_ID}}-01` | `toast-success` | Success Notification | `toast-success` | — |
| `SC-{{MODULE_ID}}-02` | *(root container)* | {{SCREEN_02_NAME}} Container | `sc-{{MODULE_ID_LOWER}}-02` | — |

> *(Complete this table for ALL UI elements across ALL screens. Every element in §2A must appear here.)*
