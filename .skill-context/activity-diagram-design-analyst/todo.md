# activity-diagram-design-analyst â€” Implementation Plan

> Generated by Skill Planner | Date: 2026-02-15
> Status: ğŸŸ¢ PLANNED - RESOURCE GATE CLOSED (PRE-REQ READY)

---

## 1. Pre-requisites

| # | Knowledge/Resource | Tier (Domain/Technical/Packaging) | Purpose | Trace | Status |
|---|--------------------|-----------------------------------|---------|-------|--------|
| 1 | `resources/activity-diagram-research.md` | Domain | Nen tang UML Activity Diagram rules, symbols, va best practices | [Tá»ª AUDIT TÃ€I NGUYÃŠN] + [Tá»ª DESIGN Â§2.1] | âœ… Found (Rich) |
| 2 | Tai lieu clean architecture lens cho modeling nghiep vu (`resources/clean-architecture-notes.md`) | Domain | Tranh trinh bay luong nghiep vu theo UI-thinking, giu boundary/use-case separation | [Tá»ª DESIGN Â§2.1] + [Tá»ª AUDIT TÃ€I NGUYÃŠN] | âœ… Found (Rich) |
| 3 | Tai lieu pattern rui ro khi refactor Activity Diagram (`resources/refactor-risk-patterns.md`) | Domain | Co can cu de phan loai risk logic (critical/major/minor) cho Mode B | [Tá»ª DESIGN Â§3] + [Tá»ª AUDIT TÃ€I NGUYÃŠN] | âœ… Found (Rich) |
| 4 | Mermaid flowchart syntax references | Technical | Dam bao script/template tao Mermaid dung cu phap | [Tá»ª DESIGN Â§2.2] | âœ… Found (from existing resource examples) |
| 5 | Rule format cho danh gia severity (`yaml`) | Technical | Dong nhat severity matrix va required-nodes checks | [Tá»ª DESIGN Â§3] | âœ… Found (`data/rules.yaml` + `data/severity-matrix.yaml`) |
| 6 | Quy uoc trace tags cho report (`[Tá»ª DESIGN]`, `[Tá»ª AUDIT TÃ€I NGUYÃŠN]`, `[Cáº¦N LÃ€M RÃ•]`) | Packaging | Bao dam anti-hallucination va truy vet nguon ket luan | [Tá»ª DESIGN Â§2.3] + [Gá»¢I Ã Bá»” SUNG] | âœ… Found |
| 7 | Khung output contract cho 2 mode A/B | Packaging | Chuan hoa output gom Mermaid + findings + assumptions + recommendations | [Tá»ª DESIGN Â§1] + [Tá»ª DESIGN Â§5] | âœ… Found |

## 2. Phase Breakdown

### Phase 1 - Resource Gate & Foundation
- [ ] Task 1.1: Soan `resources/clean-architecture-notes.md` voi cac rule boundary/use-case/entity cho activity flow [Tá»ª AUDIT TÃ€I NGUYÃŠN]
- [ ] Task 1.2: Soan `resources/refactor-risk-patterns.md` gom anti-patterns, logic pitfalls, va cach giam risk [Tá»ª AUDIT TÃ€I NGUYÃŠN]
- [ ] Task 1.3: Tao `data/rules.yaml` (required nodes, guard conditions, swimlane checks) [Tá»ª DESIGN Â§3]
- [ ] Task 1.4: Tao `data/severity-matrix.yaml` (critical/major/minor criteria) [Tá»ª DESIGN Â§3]

### Phase 2 - Core Zone (SKILL.md)
- [ ] Task 2.1: Viet persona "Activity Diagram Design Engineer" va muc tieu 2-mode workflow [Tá»ª DESIGN Â§3]
- [ ] Task 2.2: Dinh nghia mode detection A/B + interaction gates tai cac diem #1-#4 [Tá»ª DESIGN Â§2.2] + [Tá»ª DESIGN Â§6]
- [ ] Task 2.3: Dinh nghia output contract bat buoc (diagram, findings, risk, assumptions, guidance) [Tá»ª DESIGN Â§1] + [Tá»ª DESIGN Â§5]
- [ ] Task 2.4: Dinh nghia guardrails "khong doan domain", "tach syntax vs business logic", "ask when confidence < 70%" [Tá»ª DESIGN Â§2.3]

### Phase 3 - Knowledge, Templates, Scripts, Data
- [ ] Task 3.1: Tao `knowledge/activity-uml-rules.md` tu resource da audit [Tá»ª DESIGN Â§4] + [Tá»ª AUDIT TÃ€I NGUYÃŠN]
- [ ] Task 3.2: Tao `knowledge/clean-architecture-lens.md` tu resource clean architecture [Tá»ª DESIGN Â§4] + [Tá»ª AUDIT TÃ€I NGUYÃŠN]
- [ ] Task 3.3: Tao `knowledge/refactor-risk-patterns.md` cho Mode B [Tá»ª DESIGN Â§4] + [Tá»ª AUDIT TÃ€I NGUYÃŠN]
- [ ] Task 3.4: Tao `knowledge/source-prioritization.md` de uu tien context user > provided docs > fallback references [Tá»ª DESIGN Â§4]
- [ ] Task 3.5: Tao `templates/activity-mode-a.template.md` cho tao V1 khi chua co so do [Tá»ª DESIGN Â§4]
- [ ] Task 3.6: Tao `templates/activity-mode-b.template.md` cho audit/refactor khi da co so do [Tá»ª DESIGN Â§4]
- [ ] Task 3.7: Tao `templates/findings-report.template.md` co trace va severity [Tá»ª DESIGN Â§4]
- [ ] Task 3.8: Tao scripts `parse_context.py`, `build_mermaid.py`, `evaluate_diagram.py`, `generate_review_report.py` (neu can automation) [Tá»ª DESIGN Â§4]

### Phase 4 - Loop, Verify, and Readiness
- [ ] Task 4.1: Tao `loop/checklist.md` cho structural/semantic/traceability checks [Tá»ª DESIGN Â§2.2] + [Tá»ª DESIGN Â§7]
- [ ] Task 4.2: Tao `loop/phase-verify.md` theo gate P1->P4 va interaction points [Tá»ª DESIGN Â§9.1] + [Tá»ª DESIGN Â§6]
- [ ] Task 4.3: Tao `loop/final-verify.md` de xac nhan 2 mode A/B deu dat output contract [Tá»ª DESIGN Â§5]
- [ ] Task 4.4: Tao test cases `loop/test-cases/mode-a-design-v1.md` va `mode-b-refactor.md` [Tá»ª DESIGN Â§4]
- [ ] Task 4.5: Chay Resource Integrity Check, neu con pre-req critical missing thi khong chuyen sang builder [Tá»ª DESIGN Â§8] + [Gá»¢I Ã Bá»” SUNG]

## 3. Knowledge & Resources Needed

| # | Document/Tool | Purpose | Trace | Status |
|---|---------------|---------|-------|--------|
| 1 | `.skill-context/activity-diagram-design-analyst/design.md` | Ground truth de phan ra tasks theo zone | [Tá»ª DESIGN Â§3] | âœ… Ready |
| 2 | `.skill-context/activity-diagram-design-analyst/resources/activity-diagram-research.md` | Domain rules cho UML Activity Diagram | [Tá»ª AUDIT TÃ€I NGUYÃŠN] | âœ… Rich |
| 3 | `resources/clean-architecture-notes.md` | Domain lens de review logic nghiep vu theo clean architecture | [Tá»ª AUDIT TÃ€I NGUYÃŠN] | âœ… Rich |
| 4 | `resources/refactor-risk-patterns.md` | Co so phan tich rui ro logic cho Mode B | [Tá»ª AUDIT TÃ€I NGUYÃŠN] | âœ… Rich |
| 5 | Mermaid syntax guide | Ho tro tao template va script generation hop le | [Tá»ª DESIGN Â§2.2] | âœ… Partially covered |
| 6 | YAML rule schema for `data/*.yaml` | Dong bo format rule checks va severity matrix | [Tá»ª DESIGN Â§3] | âœ… Ready (`data/rules.yaml`, `data/severity-matrix.yaml`) |
| 7 | `knowledge/architect.md` (planner reference) | Kiem tra align voi 7-zone architecture | [Tá»ª DESIGN Â§3] + [Gá»¢I Ã Bá»” SUNG] | âœ… Ready |

## 4. Definition of Done

- [ ] `todo.md` bao gom day du tasks cho tat ca zones bat buoc: Core, Knowledge, Templates, Loop [Tá»ª DESIGN Â§3]
- [ ] Co tasks ro cho 2 mode A/B, khong tron logic 2 mode [Tá»ª DESIGN Â§1]
- [ ] Co tasks tao output contract va findings severity [Tá»ª DESIGN Â§5]
- [ ] Co guardrails chong doan domain va tach syntax/business issues [Tá»ª DESIGN Â§2.3]
- [ ] Co loop verify theo P1->P4 gate flow [Tá»ª DESIGN Â§9.1]
- [ ] Co trace tags cho moi pre-req va moi task [Gá»¢I Ã Bá»” SUNG]
- [ ] Resource Gate dat (khong con missing tai nguyen critical o Domain tier) [Tá»ª AUDIT TÃ€I NGUYÃŠN]

## 5. Notes

- Resource audit hien tai cho thay 1 file domain rich da co: `resources/activity-diagram-research.md` [Tá»ª AUDIT TÃ€I NGUYÃŠN]
- Tai nguyen domain `clean-architecture-notes.md` da dat muc Rich va su dung duoc cho Builder [Tá»ª AUDIT TÃ€I NGUYÃŠN]
- Tai nguyen domain `refactor-risk-patterns.md` da duoc hoan thien muc 7.3 va dat muc Rich [Tá»ª AUDIT TÃ€I NGUYÃŠN]
- Da tao va validate bo YAML danh gia severity tai `data/rules.yaml` va `data/severity-matrix.yaml` [Tá»ª AUDIT TÃ€I NGUYÃŠN]
- Mot so quyet dinh thiet ke can user chot truoc khi build:
  - Input image/screenshot co nam trong V1 scope hay khong? [Cáº¦N LÃ€M RÃ•]
  - Output co can song ngu VI/EN ngay V1 hay de V2? [Cáº¦N LÃ€M RÃ•]
  - Co can diem so chat luong 0-100 hay chi severity theo nhom? [Cáº¦N LÃ€M RÃ•]
- Resource Gate da dong cho pre-requisites; co the chuyen tiep sang giai doan build khi can [Tá»ª AUDIT TÃ€I NGUYÃŠN]
