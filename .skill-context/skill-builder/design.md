# skill-builder ‚Äî Architecture Design

> Generated by Skill Architect | Date: 2026-02-13
> Status: üü¢ COMPLETE

---

## 1. Problem Statement

Sau khi c√≥ b·∫£n thi·∫øt k·∫ø ki·∫øn tr√∫c (`design.md` t·ª´ Architect) v√† k·∫ø ho·∫°ch tri·ªÉn khai
(`todo.md` t·ª´ Planner), ng∆∞·ªùi d√πng + AI ƒë·ªëi m·∫∑t v·ªõi:

1. **Kh√¥ng c√≥ "th·ª£ x√¢y" chuy√™n bi·ªát** ‚Äî AI Agent ph·∫£i t·ª± build skill m√† kh√¥ng c√≥
   quy tr√¨nh chu·∫©n, d·ªÖ b·ªè s√≥t components, sai c·∫•u tr√∫c
2. **·∫¢o gi√°c khi vi·∫øt n·ªôi dung** ‚Äî AI t·ª± b·ªãa domain knowledge, vi·∫øt guardrails chung
   chung, t·∫°o template kh√¥ng kh·ªõp v·ªõi thi·∫øt k·∫ø
3. **Thi·∫øu ki·ªÉm tra ch·∫•t l∆∞·ª£ng** ‚Äî Kh√¥ng c√≥ c∆° ch·∫ø verify output vs thi·∫øt k·∫ø g·ªëc

**Ai g·∫∑p v·∫•n ƒë·ªÅ**: AI Agent th·ª±c thi + ng∆∞·ªùi d√πng gi√°m s√°t.
**V·ªã tr√≠**: Skill #3 (cu·ªëi c√πng) trong b·ªô Master Skill Suite (Architect ‚Üí Planner ‚Üí **Builder**).
**Expected Output**: Skill package ho√†n ch·ªânh t·∫°i `.agent/skills/{skill-name}/` + `build-log.md`.

**Quy·∫øt ƒë·ªãnh ƒë√£ x√°c nh·∫≠n:**

| # | Quy·∫øt ƒë·ªãnh | M√¥ t·∫£ |
|---|-----------|-------|
| B-D1 | Autonomous | AI t·ª± vi·∫øt n·ªôi dung d·ª±a 100% tr√™n t√†i li·ªáu s·∫µn c√≥ |
| B-D2 | B√°m s√°t architect.md | M·ªçi file t·∫°o ra PH·∫¢I map ƒë∆∞·ª£c v·ªÅ 7 Zones |
| B-D3 | Sub-step Build | Chia nh·ªè b∆∞·ªõc BUILD theo t·ª´ng Phase c·ªßa todo.md ƒë·ªÉ tr√°nh qu√° t·∫£i ng·ªØ c·∫£nh |
| B-D4 | **Engineer Stance** | K·ªπ s∆∞ t·ª± ch·ªß, c√≥ quy·ªÅn th·∫©m ƒë·ªãnh, ph·∫£n bi·ªán v√† s·ª≠a l·ªói logic trong design.md |
| B-D5 | Error Stop | G·∫∑p l·ªói h·ªá th·ªëng (Permission/Disk) -> Ghi log -> Th√¥ng b√°o -> D·ª™NG NGAY |
| B-D6 | Placeholder Gate | Ng∆∞·ª°ng c·∫£nh b√°o t·ªãnh ti·∫øn cho Placeholder (5: Level Up, >10: FAIL) |

## 2. Capability Map

### 2.1 Tri thuc (Knowledge)

Builder l√† skill **duy nh·∫•t trong b·ªô 3 skill th·ª±c s·ª± t·∫°o ra s·∫£n ph·∫©m** (files th·∫≠t).
N√≥ c·∫ßn hi·ªÉu **C·∫§U TR√öC CHU·∫®N** (x√¢y c√°i g√¨) l·∫´n **C√ÅCH VI·∫æT N·ªòI DUNG** (vi·∫øt g√¨ v√†o m·ªói file).

| # | Ki·∫øn th·ª©c | V·ªã tr√≠ trong skill | M·ª•c ƒë√≠ch |
|---|----------|-------------------|----------|
| K1 | **architect.md** (framework g·ªëc) | `knowledge/architect.md` (copy) | Chu·∫©n 7 Zones, Progressive Disclosure ¬ß6, SKILL.md writing rules ¬ß9. **B·∫£o ch·ª©ng c·∫•u tr√∫c** |
| K2 | **Build execution guidelines** | `knowledge/build-guidelines.md` (m·ªõi) | C√°ch vi·∫øt n·ªôi dung c·ª• th·ªÉ cho t·ª´ng Zone type: SKILL.md (imperative form, phases), knowledge/ (c·∫•u tr√∫c t√†i li·ªáu), loop/ (c√°ch vi·∫øt checklist) |
| K3 | **design.md** (INPUT) | `.skill-context/{name}/design.md` | Ground truth ‚Äî ki·∫øn tr√∫c skill c·∫ßn build |
| K4 | **todo.md** (INPUT) | `.skill-context/{name}/todo.md` | "B·∫£n v·∫Ω thi c√¥ng" ‚Äî th·ª© t·ª±, dependencies |
| K5 | **resources/** (INPUT) | `.skill-context/{name}/resources/` | T√†i li·ªáu domain do user cung c·∫•p ‚Äî **ngu·ªìn duy nh·∫•t cho n·ªôi dung domain** |

**ƒêi·ªÉm kh√°c bi·ªát**: Architect ch·ªâ thi·∫øt k·∫ø, Planner ch·ªâ l·∫≠p k·∫ø ho·∫°ch. Builder l√† **duy nh·∫•t vi·∫øt code/n·ªôi dung th·ª±c**.

### 2.2 Quy trinh (Process)

```mermaid
flowchart LR
    P1["PREPARE\n(Doc input)"] -->|model noi bo| P2["CLARIFY\n(Xu ly CAN LAM RO)"]
    P2 -->|all clear| P3["BUILD\n(Tao files)"]
    P3 -->|skill package| P4["VERIFY\n(Doi chieu design)"]
    P4 -->|pass| P5["DELIVER\n(Trinh bay + log)"]

    P2 -.->|hoi user| U((User))
    U -.->|tra loi| P2
    P2 -.->|ghi vao| D[design.md]

    P5 -.->|result| U
```

| Step | H√†nh ƒë·ªông | Input | Output | Interaction? |
|------|----------|-------|--------|-------------|
| **PREPARE** | ƒê·ªçc design.md, todo.md, resources. **Th·∫©m ƒë·ªãnh logic thi·∫øt k·∫ø**. | Files t·ª´ `.skill-context/{name}/` | Model n·ªôi b·ªô: danh s√°ch sub-steps, ph·∫£n bi·ªán (n·∫øu c√≥) | ‚ùå |
| **CLARIFY** | H·ªèi user v·ªÅ `[C·∫¶N L√ÄM R√ï]` ho·∫∑c **c√°c ƒëi·ªÉm phi logic ph√°t hi·ªán ƒë∆∞·ª£c**. Ghi v√†o design.md ¬ß9. | todo.md + Th·∫©m ƒë·ªãnh | design.md c·∫≠p nh·∫≠t, ambiguity & logic flaws resolved | ‚úÖ H·ªèi user |
| **BUILD** | Tri·ªÉn khai theo t·ª´ng **Phase** c·ªßa todo.md. Xong Phase n√†o mark Phase ƒë√≥. | K·∫ø ho·∫°ch ƒë√£ th·∫©m ƒë·ªãnh | `.agent/skills/{skill-name}/` | ‚ùå Chunked per Phase |
| **VERIFY** | Ch·∫°y `validate_skill.py`. Ki·ªÉm tra ng∆∞·ª°ng Placeholder (Thang 5/10). | Skill package + design + todo | Verification report | ‚ùå |
| **DELIVER** | Tr√¨nh b√†y k·∫øt qu·∫£ + ghi `build-log.md` | Verification report | build-log.md + b√°o c√°o | ‚úÖ Tr√¨nh b√†y |

### 2.3 Kiem soat (Guardrails)

| # | Rule | M√¥ t·∫£ | Ch·ªëng risk |
|---|------|-------|-----------|
| G1 | **K·ªπ s∆∞ Ph·∫£n bi·ªán** | Ph·∫£i verify b·∫£n thi·∫øt k·∫ø tr∆∞·ªõc khi build. C√≥ quy·ªÅn c√£i l·∫°i v√† s·ª≠a logic sai | Thi·∫øt k·∫ø phi th·ª±c t·∫ø |
| G2 | **Phase-driven Build** | Ph·∫£i chia nh·ªè BUILD theo Phase c·ªßa todo.md. Mark-as-done t·ª´ng phase | Context Overload |
| G3 | **Log-Notify-Stop** | L·ªói ghi file/h·ªá th·ªëng -> Log -> Notify -> STOP. Kh√¥ng ch·∫°y c·ªë | Data Corruption |
| G4 | **Placeholder Scale** | C·∫£nh b√°o m·ªói 5 Placeholders. >10 Placeholders = Th·∫•t b·∫°i (Failure) | N·ªôi dung r·ªóng |
| G5 | **Source Grounding** | N·ªôi dung 100% t·ª´ design, todo, resources. Tuy·ªát ƒë·ªëi kh√¥ng ·∫£o gi√°c. | Hallucination |
| G6 | **PD Tiering** | Tu√¢n th·ªß Progressive Disclosure (Tier 1 vs Tier 2). | Context Bloat |
| G7 | **Build-log Mandatory** | M·ªçi quy·∫øt ƒë·ªãnh, ph·∫£n bi·ªán, file t·∫°o -> ghi r√µ v√†o build-log.md | Traceability |

## 3. Zone Mapping

```mermaid
flowchart TD
    User((User)) -->|"y tuong + tai lieu"| Architect[skill-architect]
    Architect -->|"ghi"| Design["design.md\n.skill-context/{name}/"]
    Design -->|"doc"| Planner[skill-planner]
    Planner -->|"ghi"| Todo["todo.md\n.skill-context/{name}/"]

    Design -->|"doc"| Builder[skill-builder]
    Todo -->|"doc"| Builder
    Resources["resources/\n.skill-context/{name}/"] -->|"doc"| Builder
    ArchitectMD["architect.md\n(root)"] -->|"doc"| Builder

    Builder -->|"tao"| SkillPkg[".agent/skills/{name}/\nSkill Package"]
    Builder -->|"ghi"| BuildLog["build-log.md\n.skill-context/{name}/"]
    Builder -.->|"hoi khi gap CAN LAM RO"| User
    Builder -.->|"trinh bay ket qua"| User

    style Builder fill:#e8f5e9,stroke:#2e7d32,stroke-width:3px
    style SkillPkg fill:#c8e6c9,stroke:#388e3c
```

| Zone | C·∫ßn? | N·ªôi dung | L√Ω do |
|------|------|---------|-------|
| **Core (SKILL.md)** | ‚úÖ | Persona "Senior Skill Builder". Flow 5 steps. 7 Guardrails | Linh h·ªìn ƒëi·ªÅu khi·ªÉn |
| **Knowledge** | ‚úÖ | `knowledge/architect.md` (copy chu·∫©n) + `knowledge/build-guidelines.md` (imperative SKILL.md ‚â§500 d√≤ng, knowledge t√°ch tham chi·∫øu, loop checklist format, placeholder khi thi·∫øu domain) | C·∫ßn hi·ªÉu C·∫§U TR√öC CHU·∫®N + C√ÅCH VI·∫æT |
| **Scripts** | ‚úÖ | `scripts/validate_skill.py` ‚Äî ki·ªÉm tra: ƒë·ªß 4 Zones d√πng (Core/Knowledge/Scripts/Loop), SKILL.md < 500 d√≤ng, file list kh·ªõp design.md ¬ß3 + todo.md ¬ß2, tu√¢n th·ªß Progressive Disclosure, b√°o c√°o thi·∫øu/sai | Automation cho Step VERIFY |
| **Templates** | ‚ùå | ‚Äî | M·ªói skill kh√°c nhau, design.md ƒë√£ l√† "template" |
| **Data** | ‚ùå | ‚Äî | Kh√¥ng c√≥ config tƒ©nh |
| **Loop** | ‚úÖ | `loop/build-checklist.md` ‚Äî checklist ki·ªÉm tra ch·∫•t l∆∞·ª£ng cu·ªëi c√πng; `loop/build-log.md` y√™u c·∫ßu ghi input set, clarifications, files, validation, issues | Ki·ªÉm so√°t output tr∆∞·ªõc deliver |
| **Assets** | ‚ùå | ‚Äî | Kh√¥ng c√≥ media |

**Zones s·ª≠ d·ª•ng: 4/7** (Core, Knowledge, Scripts, Loop).

**Scripts ‚Äî validate_skill.py y√™u c·∫ßu t·ªëi thi·ªÉu**
- Ki·ªÉm tra ƒë·ªß 4 Zones ƒë∆∞·ª£c s·ª≠ d·ª•ng (Core/Knowledge/Scripts/Loop), flag n·∫øu thi·∫øu.
- SKILL.md < 500 d√≤ng, c√≥ persona + phases + guardrails.
- ƒê·ªëi chi·∫øu danh s√°ch file th·ª±c t·∫ø v·ªõi thi·∫øt k·∫ø: design.md ¬ß3 (Zone Mapping) + todo.md ¬ß2 (Phase Breakdown).
- Ki·ªÉm tra Progressive Disclosure: Tier 1 (SKILL.md, knowledge/*) t·ªìn t·∫°i; Tier 2 (loop/, scripts/) c√≥ link t·ª´ SKILL.md.
- Xu·∫•t b√°o c√°o c√≥ tr·∫°ng th√°i Pass/Fail t·ª´ng h·∫°ng m·ª•c.

**build-log.md skeleton (Step DELIVER)**
- Input set (design.md, todo.md, resources/* phi√™n b·∫£n hi·ªán t·∫°i).
- Clarifications ƒë√£ ghi v√†o design.md (m·ª•c Clarifications).
- Files created/updated trong `.agent/skills/{skill-name}/`.
- K·∫øt qu·∫£ validate_skill.py + t·ª± ki·ªÉm tra build-checklist.md.
- Issues c√≤n m·ªü ho·∫∑c c·∫ßn user ƒëi·ªÅn ti·∫øp.

## 4. Folder Structure

```mermaid
mindmap
  root((skill-builder))
    SKILL.md
      Persona Senior Skill Builder
      5 Steps PREPARE CLARIFY BUILD VERIFY DELIVER
      7 Guardrails
      Output spec
    knowledge
      architect.md
        7 Zones framework
        Progressive Disclosure
        SKILL.md writing rules
      build-guidelines.md
        Cach viet SKILL.md
        Cach viet knowledge files
        Cach viet loop checklists
        Cach xu ly resources
        Placeholder khi thieu domain data
    scripts
      validate_skill.py
        Kiem tra cau truc
        Doi chieu vs design.md
        Report ket qua
    loop
      build-checklist.md
        Structure check
        Content source check
        Progressive disclosure check
        Completeness check
```

## 5. Execution Flow

```mermaid
sequenceDiagram
    participant U as User
    participant B as Skill Builder
    participant K as knowledge/
    participant D as design.md
    participant T as todo.md
    participant R as resources/
    participant S as scripts/validate_skill.py
    participant L as loop/build-checklist.md
    participant O as .agent/skills/{name}/

    U->>B: Kich hoat Builder (skill-name)
    B->>B: Doc SKILL.md (persona + rules)
    B->>K: Doc architect.md + build-guidelines.md

    Note over B: === STEP PREPARE ===
    B->>D: Doc design.md (¬ß3 Zone Mapping)
    B->>T: Doc todo.md (¬ß2 Phase Breakdown)
    B->>R: Doc resources/ (neu co)
    B->>B: Tao model noi bo: files can tao + thu tu

    Note over B: === STEP CLARIFY ===
    B->>T: Scan tim [CAN LAM RO]
    alt Co items can lam ro
        loop Voi moi item [CAN LAM RO]
            B->>U: Hoi user ve item
            U->>B: Tra loi
            B->>D: Ghi cau tra loi vao design.md
        end
    end

    Note over B: === STEP BUILD ===
    B->>O: Tao folder .agent/skills/{name}/
    loop Voi moi task trong todo.md phases
        B->>K: Tham chieu architect.md (cau truc)
        B->>K: Tham chieu build-guidelines.md (cach viet)
        B->>D: Tham chieu design.md (noi dung)
        B->>R: Lay domain content tu resources/
        B->>O: Tao file voi noi dung
    end

    Note over B: === STEP VERIFY ===
    B->>S: Chay validate_skill.py
    S-->>B: Ket qua validation
    B->>L: Doc build-checklist.md
    B->>B: Doi chieu output vs design.md ¬ß3 + todo.md ¬ß4 DoD

    Note over B: === STEP DELIVER ===
    B->>B: Ghi build-log.md (files, decisions, issues)
    B->>U: Trinh bay ket qua tong hop
```

## 6. Interaction Points

| # | Th·ªùi ƒëi·ªÉm | Lo·∫°i | L√Ω do |
|---|-----------|------|-------|
| 1 | Step CLARIFY ‚Äî g·∫∑p `[C·∫¶N L√ÄM R√ï]` | Question ‚Üí ghi v√†o design.md (m·ª•c Clarifications), t·ªëi ƒëa 5 m·ª•c/phi√™n | Gi·∫£i quy·∫øt ambiguity tr∆∞·ªõc khi build. Loop ƒë·∫øn h·∫øt |
| 2 | Step DELIVER ‚Äî k·∫øt th√∫c | Present results | User xem skill package + build-log tr∆∞·ªõc khi ho√†n t·∫•t |

**Ch·ªâ 2 interaction points** ‚Äî v√¨ input (design.md + todo.md) ƒë√£ ƒë∆∞·ª£c confirm b·ªüi Architect + Planner.
B-D3 y√™u c·∫ßu √≠t interaction, ch·∫°y 1 m·∫°ch.

## 7. Progressive Disclosure Plan

### T·∫ßng 1: B·∫Øt bu·ªôc ƒë·ªçc (Mandatory)
- `SKILL.md` ‚Äî persona, 5 steps, 6 guardrails
- `knowledge/architect.md` ‚Äî framework 7 Zones, Progressive Disclosure, SKILL.md writing rules
- `knowledge/build-guidelines.md` ‚Äî c√°ch vi·∫øt n·ªôi dung cho t·ª´ng Zone type

### T·∫ßng 2: T·ª± quy·∫øt ƒë·ªãnh (Conditional)
- `loop/build-checklist.md` ‚Äî ƒë·ªçc SAU Step BUILD ƒë·ªÉ t·ª± ki·ªÉm tra (Step VERIFY)
- `scripts/validate_skill.py` ‚Äî ch·∫°y trong Step VERIFY

## 8. Risks & Blind Spots

| # | Blind Spot | Nguy c∆° | Mitigation |
|---|-----------|---------|------------|
| B1 | **B·ªãa n·ªôi dung knowledge/** | AI "s√°ng t·∫°o" domain knowledge thay v√¨ d√πng resources/ | G1: b√°m t√†i li·ªáu. Thi·∫øu ‚Üí t·∫°o skeleton, user ƒëi·ªÅn sau |
| B2 | **SKILL.md qu√° chung** | Persona/phases m∆° h·ªì "x·ª≠ l√Ω input, t·∫°o output" | build-guidelines.md h∆∞·ªõng d·∫´n c·ª• th·ªÉ, architect.md ¬ß9.1 |
| B3 | **B·ªè s√≥t files** | design.md n√≥i 5 zones nh∆∞ng ch·ªâ t·∫°o 3 | validate_skill.py ƒë·ªëi chi·∫øu 1-1 + build-checklist |
| B4 | **Sai Progressive Disclosure** | Nh·ªìi m·ªçi th·ª© v√†o SKILL.md thay v√¨ ph√¢n t·∫ßng | architect.md ¬ß6 quy ƒë·ªãnh. build-guidelines.md c√≥ v√≠ d·ª• |
| B5 | **Guardrails copy-paste** | Checklists chung chung, kh√¥ng specific | build-guidelines.md c√≥ pattern guardrails hi·ªáu qu·∫£ |
| B6 | **Qu√™n ghi build-log** | T·∫≠p trung build m√† kh√¥ng document decisions/issues | G6 b·∫Øt bu·ªôc. Step DELIVER ki·ªÉm tra |

## 9. Open Questions

Kh√¥ng c√≥ ‚Äî t·∫•t c·∫£ decisions ƒë√£ x√°c nh·∫≠n qua Phase 1 v√† Phase 2.

**Clarifications:**
1. [B-C1]: Builder c√≥ quy·ªÅn s·ª≠a DESIGN.md? -> YES.
2. [B-C2]: PD Check d√πng MD link hay inline? -> Markdown link `[Label](path)` l√† b·∫Øt bu·ªôc.

## 10. Metadata

- **Skill Name**: skill-builder
- **Created**: 2026-02-13
- **Author**: Skill Architect
- **Framework**: architect.md v2.0
- **Position**: #3 trong b·ªô Master Skill Suite (Architect ‚Üí Planner ‚Üí **Builder**)
- **Decisions**: B-D1 (autonomous), B-D2 (b√°m architect.md), B-D3 (ch·∫°y 1 m·∫°ch), B-D4 (clarify-first)
- **Zones Used**: 4/7 (Core, Knowledge, Scripts, Loop)
- **Status**: üü¢ COMPLETE
