# skill-builder â€” Architecture Design

> Generated by Skill Architect | Date: 2026-02-13
> Status: ğŸŸ¢ COMPLETE

---

## 1. Problem Statement

Sau khi cÃ³ báº£n thiáº¿t káº¿ kiáº¿n trÃºc (`design.md` tá»« Architect) vÃ  káº¿ hoáº¡ch triá»ƒn khai
(`todo.md` tá»« Planner), ngÆ°á»i dÃ¹ng + AI Ä‘á»‘i máº·t vá»›i:

1. **KhÃ´ng cÃ³ "thá»£ xÃ¢y" chuyÃªn biá»‡t** â€” AI Agent pháº£i tá»± build skill mÃ  khÃ´ng cÃ³
   quy trÃ¬nh chuáº©n, dá»… bá» sÃ³t components, sai cáº¥u trÃºc
2. **áº¢o giÃ¡c khi viáº¿t ná»™i dung** â€” AI tá»± bá»‹a domain knowledge, viáº¿t guardrails chung
   chung, táº¡o template khÃ´ng khá»›p vá»›i thiáº¿t káº¿
3. **Thiáº¿u kiá»ƒm tra cháº¥t lÆ°á»£ng** â€” KhÃ´ng cÃ³ cÆ¡ cháº¿ verify output vs thiáº¿t káº¿ gá»‘c

**Ai gáº·p váº¥n Ä‘á»**: AI Agent thá»±c thi + ngÆ°á»i dÃ¹ng giÃ¡m sÃ¡t.
**Vá»‹ trÃ­**: Skill #3 (cuá»‘i cÃ¹ng) trong bá»™ Master Skill Suite (Architect â†’ Planner â†’ **Builder**).
**Expected Output**: Skill package hoÃ n chá»‰nh táº¡i `.agent/skills/{skill-name}/` + `build-log.md`.

**Quyáº¿t Ä‘á»‹nh Ä‘Ã£ xÃ¡c nháº­n:**

| # | Quyáº¿t Ä‘á»‹nh | MÃ´ táº£ |
|---|-----------|-------|
| B-D1 | Autonomous | AI tá»± viáº¿t ná»™i dung dá»±a 100% trÃªn tÃ i liá»‡u sáºµn cÃ³ |
| B-D2 | BÃ¡m sÃ¡t architect.md | Má»i file táº¡o ra PHáº¢I map Ä‘Æ°á»£c vá» 7 Zones |
| B-D3 | Sub-step Build | Chia nhá» bÆ°á»›c BUILD theo tá»«ng Phase cá»§a todo.md Ä‘á»ƒ trÃ¡nh quÃ¡ táº£i ngá»¯ cáº£nh |
| B-D4 | **Engineer Stance** | Ká»¹ sÆ° tá»± chá»§, cÃ³ quyá»n tháº©m Ä‘á»‹nh, pháº£n biá»‡n vÃ  sá»­a lá»—i logic trong design.md |
| B-D5 | Error Stop | Gáº·p lá»—i há»‡ thá»‘ng (Permission/Disk) -> Ghi log -> ThÃ´ng bÃ¡o -> Dá»ªNG NGAY |
| B-D6 | Placeholder Gate | NgÆ°á»¡ng cáº£nh bÃ¡o tá»‹nh tiáº¿n cho Placeholder (5: Level Up, >10: FAIL) |

## 2. Capability Map

### 2.1 Tri thuc (Knowledge)

Builder lÃ  skill **duy nháº¥t trong bá»™ 3 skill thá»±c sá»± táº¡o ra sáº£n pháº©m** (files tháº­t).
NÃ³ cáº§n hiá»ƒu **Cáº¤U TRÃšC CHUáº¨N** (xÃ¢y cÃ¡i gÃ¬) láº«n **CÃCH VIáº¾T Ná»˜I DUNG** (viáº¿t gÃ¬ vÃ o má»—i file).

| # | Kiáº¿n thá»©c | Vá»‹ trÃ­ trong skill | Má»¥c Ä‘Ã­ch |
|---|----------|-------------------|----------|
| K1 | **architect.md** (framework gá»‘c) | `knowledge/architect.md` (copy) | Chuáº©n 7 Zones, Progressive Disclosure Â§6, SKILL.md writing rules Â§9. **Báº£o chá»©ng cáº¥u trÃºc** |
| K2 | **Build execution guidelines** | `knowledge/build-guidelines.md` (má»›i) | CÃ¡ch viáº¿t ná»™i dung cá»¥ thá»ƒ cho tá»«ng Zone type: SKILL.md (imperative form, phases), knowledge/ (cáº¥u trÃºc tÃ i liá»‡u), loop/ (cÃ¡ch viáº¿t checklist) |
| K3 | **design.md** (INPUT) | `.skill-context/{name}/design.md` | Ground truth â€” kiáº¿n trÃºc skill cáº§n build |
| K4 | **todo.md** (INPUT) | `.skill-context/{name}/todo.md` | "Báº£n váº½ thi cÃ´ng" â€” thá»© tá»±, dependencies |
| K5 | **resources/** (INPUT) | `.skill-context/{name}/resources/` | TÃ i liá»‡u domain do user cung cáº¥p â€” **nguá»“n duy nháº¥t cho ná»™i dung domain** |

**Äiá»ƒm khÃ¡c biá»‡t**: Architect chá»‰ thiáº¿t káº¿, Planner chá»‰ láº­p káº¿ hoáº¡ch. Builder lÃ  **duy nháº¥t viáº¿t code/ná»™i dung thá»±c**.

### 2.2 Quy trinh (Process)

```mermaid
flowchart LR
    P1["PREPARE\n(Doc input)"] -->|model noi bo| P2["CLARIFY\n(Xu ly CAN LAM RO)"]
    P2 -->|all clear| P3["BUILD\n(Tao files)"]
    P3 -->|skill package| P4["VERIFY\n(Doi chieu design)"]
    P4 -->|pass| P5["DELIVER\n(Trinh bay + log)"]

    P2 -.->|hoi user| U((User))
    U -.->|tra loi| P2
    P2 -.->|ghi vao| D[design.md]

    P5 -.->|result| U
```

| Step | HÃ nh Ä‘á»™ng | Input | Output | Interaction? |
|------|----------|-------|--------|-------------|
| **PREPARE** | Äá»c design.md, todo.md, resources. **Tháº©m Ä‘á»‹nh logic thiáº¿t káº¿**. | Files tá»« `.skill-context/{name}/` | Model ná»™i bá»™: danh sÃ¡ch sub-steps, pháº£n biá»‡n (náº¿u cÃ³) | âŒ |
| **CLARIFY** | Há»i user vá» `[Cáº¦N LÃ€M RÃ•]` hoáº·c **cÃ¡c Ä‘iá»ƒm phi logic phÃ¡t hiá»‡n Ä‘Æ°á»£c**. Ghi vÃ o design.md Â§9. | todo.md + Tháº©m Ä‘á»‹nh | design.md cáº­p nháº­t, ambiguity & logic flaws resolved | âœ… Há»i user |
| **BUILD** | Triá»ƒn khai theo tá»«ng **Phase** cá»§a todo.md. Xong Phase nÃ o mark Phase Ä‘Ã³. | Káº¿ hoáº¡ch Ä‘Ã£ tháº©m Ä‘á»‹nh | `.agent/skills/{skill-name}/` | âŒ Chunked per Phase |
| **VERIFY** | Cháº¡y `validate_skill.py`. Kiá»ƒm tra ngÆ°á»¡ng Placeholder (Thang 5/10). | Skill package + design + todo | Verification report | âŒ |
| **DELIVER** | TrÃ¬nh bÃ y káº¿t quáº£ + ghi `build-log.md` | Verification report | build-log.md + bÃ¡o cÃ¡o | âœ… TrÃ¬nh bÃ y |

### 2.3 Kiem soat (Guardrails)

| # | Rule | MÃ´ táº£ | Chá»‘ng risk |
|---|------|-------|-----------|
| G1 | **Ká»¹ sÆ° Pháº£n biá»‡n** | Pháº£i verify báº£n thiáº¿t káº¿ trÆ°á»›c khi build. CÃ³ quyá»n cÃ£i láº¡i vÃ  sá»­a logic sai | Thiáº¿t káº¿ phi thá»±c táº¿ |
| G2 | **Phase-driven Build** | Pháº£i chia nhá» BUILD theo Phase cá»§a todo.md. Mark-as-done tá»«ng phase | Context Overload |
| G3 | **Log-Notify-Stop** | Lá»—i ghi file/há»‡ thá»‘ng -> Log -> Notify -> STOP. KhÃ´ng cháº¡y cá»‘ | Data Corruption |
| G4 | **Placeholder Scale** | Cáº£nh bÃ¡o má»—i 5 Placeholders. >10 Placeholders = Tháº¥t báº¡i (Failure) | Ná»™i dung rá»—ng |
| G5 | **Build-log báº¯t buá»™c** | Má»i quyáº¿t Ä‘á»‹nh, pháº£n biá»‡n, file táº¡o -> ghi rÃµ vÃ o build-log.md | Traceability |
| G6 | **Ghi log** | Má»i quyáº¿t Ä‘á»‹nh, file táº¡o, issue â†’ ghi vÃ o build-log.md | Traceability |
| G7 | **Giá»›i háº¡n CLARIFY** | Má»—i phiÃªn há»i tá»‘i Ä‘a 5 má»¥c `[Cáº¦N LÃ€M RÃ•]`, má»i tráº£ lá»i pháº£i lÆ°u vÃ o design.md má»¥c Clarifications | B1 (Ä‘oÃ¡n sai), trÃ¡nh loop vÃ´ háº¡n |

## 3. Zone Mapping

```mermaid
flowchart TD
    User((User)) -->|"y tuong + tai lieu"| Architect[skill-architect]
    Architect -->|"ghi"| Design["design.md\n.skill-context/{name}/"]
    Design -->|"doc"| Planner[skill-planner]
    Planner -->|"ghi"| Todo["todo.md\n.skill-context/{name}/"]

    Design -->|"doc"| Builder[skill-builder]
    Todo -->|"doc"| Builder
    Resources["resources/\n.skill-context/{name}/"] -->|"doc"| Builder
    ArchitectMD["architect.md\n(root)"] -->|"doc"| Builder

    Builder -->|"tao"| SkillPkg[".agent/skills/{name}/\nSkill Package"]
    Builder -->|"ghi"| BuildLog["build-log.md\n.skill-context/{name}/"]
    Builder -.->|"hoi khi gap CAN LAM RO"| User
    Builder -.->|"trinh bay ket qua"| User

    style Builder fill:#e8f5e9,stroke:#2e7d32,stroke-width:3px
    style SkillPkg fill:#c8e6c9,stroke:#388e3c
```

| Zone | Cáº§n? | Ná»™i dung | LÃ½ do |
|------|------|---------|-------|
| **Core (SKILL.md)** | âœ… | Persona "Senior Skill Builder". Flow 5 steps. 7 Guardrails | Linh há»“n Ä‘iá»u khiá»ƒn |
| **Knowledge** | âœ… | `architect.md` (copy chuáº©n) + `build-guidelines.md` (imperative SKILL.md â‰¤500 dÃ²ng, knowledge tÃ¡ch tham chiáº¿u, loop checklist format, placeholder khi thiáº¿u domain) | Cáº§n hiá»ƒu Cáº¤U TRÃšC CHUáº¨N + CÃCH VIáº¾T |
| **Scripts** | âœ… | `validate_skill.py` â€” kiá»ƒm tra: Ä‘á»§ 4 Zones dÃ¹ng (Core/Knowledge/Scripts/Loop), SKILL.md < 500 dÃ²ng, file list khá»›p design.md Â§3 + todo.md Â§2, tuÃ¢n thá»§ Progressive Disclosure, bÃ¡o cÃ¡o thiáº¿u/sai | Automation cho Step VERIFY |
| **Templates** | âŒ | â€” | Má»—i skill khÃ¡c nhau, design.md Ä‘Ã£ lÃ  "template" |
| **Data** | âŒ | â€” | KhÃ´ng cÃ³ config tÄ©nh |
| **Loop** | âœ… | `build-checklist.md` â€” checklist kiá»ƒm tra cháº¥t lÆ°á»£ng cuá»‘i cÃ¹ng; build-log yÃªu cáº§u ghi input set, clarifications, files, validation, issues | Kiá»ƒm soÃ¡t output trÆ°á»›c deliver |
| **Assets** | âŒ | â€” | KhÃ´ng cÃ³ media |

**Zones sá»­ dá»¥ng: 4/7** (Core, Knowledge, Scripts, Loop).

**Scripts â€” validate_skill.py yÃªu cáº§u tá»‘i thiá»ƒu**
- Kiá»ƒm tra Ä‘á»§ 4 Zones Ä‘Æ°á»£c sá»­ dá»¥ng (Core/Knowledge/Scripts/Loop), flag náº¿u thiáº¿u.
- SKILL.md < 500 dÃ²ng, cÃ³ persona + phases + guardrails.
- Äá»‘i chiáº¿u danh sÃ¡ch file thá»±c táº¿ vá»›i thiáº¿t káº¿: design.md Â§3 (Zone Mapping) + todo.md Â§2 (Phase Breakdown).
- Kiá»ƒm tra Progressive Disclosure: Tier 1 (SKILL.md, knowledge/*) tá»“n táº¡i; Tier 2 (loop/, scripts/) cÃ³ link tá»« SKILL.md.
- Xuáº¥t bÃ¡o cÃ¡o cÃ³ tráº¡ng thÃ¡i Pass/Fail tá»«ng háº¡ng má»¥c.

**build-log.md skeleton (Step DELIVER)**
- Input set (design.md, todo.md, resources/* phiÃªn báº£n hiá»‡n táº¡i).
- Clarifications Ä‘Ã£ ghi vÃ o design.md (má»¥c Clarifications).
- Files created/updated trong `.agent/skills/{skill-name}/`.
- Káº¿t quáº£ validate_skill.py + tá»± kiá»ƒm tra build-checklist.md.
- Issues cÃ²n má»Ÿ hoáº·c cáº§n user Ä‘iá»n tiáº¿p.

## 4. Folder Structure

```mermaid
mindmap
  root((skill-builder))
    SKILL.md
      Persona Senior Skill Builder
      5 Steps PREPARE CLARIFY BUILD VERIFY DELIVER
      7 Guardrails
      Output spec
    knowledge
      architect.md
        7 Zones framework
        Progressive Disclosure
        SKILL.md writing rules
      build-guidelines.md
        Cach viet SKILL.md
        Cach viet knowledge files
        Cach viet loop checklists
        Cach xu ly resources
        Placeholder khi thieu domain data
    scripts
      validate_skill.py
        Kiem tra cau truc
        Doi chieu vs design.md
        Report ket qua
    loop
      build-checklist.md
        Structure check
        Content source check
        Progressive disclosure check
        Completeness check
```

## 5. Execution Flow

```mermaid
sequenceDiagram
    participant U as User
    participant B as Skill Builder
    participant K as knowledge/
    participant D as design.md
    participant T as todo.md
    participant R as resources/
    participant S as scripts/validate_skill.py
    participant L as loop/build-checklist.md
    participant O as .agent/skills/{name}/

    U->>B: Kich hoat Builder (skill-name)
    B->>B: Doc SKILL.md (persona + rules)
    B->>K: Doc architect.md + build-guidelines.md

    Note over B: === STEP PREPARE ===
    B->>D: Doc design.md (Â§3 Zone Mapping)
    B->>T: Doc todo.md (Â§2 Phase Breakdown)
    B->>R: Doc resources/ (neu co)
    B->>B: Tao model noi bo: files can tao + thu tu

    Note over B: === STEP CLARIFY ===
    B->>T: Scan tim [CAN LAM RO]
    alt Co items can lam ro
        loop Voi moi item [CAN LAM RO]
            B->>U: Hoi user ve item
            U->>B: Tra loi
            B->>D: Ghi cau tra loi vao design.md
        end
    end

    Note over B: === STEP BUILD ===
    B->>O: Tao folder .agent/skills/{name}/
    loop Voi moi task trong todo.md phases
        B->>K: Tham chieu architect.md (cau truc)
        B->>K: Tham chieu build-guidelines.md (cach viet)
        B->>D: Tham chieu design.md (noi dung)
        B->>R: Lay domain content tu resources/
        B->>O: Tao file voi noi dung
    end

    Note over B: === STEP VERIFY ===
    B->>S: Chay validate_skill.py
    S-->>B: Ket qua validation
    B->>L: Doc build-checklist.md
    B->>B: Doi chieu output vs design.md Â§3 + todo.md Â§4 DoD

    Note over B: === STEP DELIVER ===
    B->>B: Ghi build-log.md (files, decisions, issues)
    B->>U: Trinh bay ket qua tong hop
```

## 6. Interaction Points

| # | Thá»i Ä‘iá»ƒm | Loáº¡i | LÃ½ do |
|---|-----------|------|-------|
| 1 | Step CLARIFY â€” gáº·p `[Cáº¦N LÃ€M RÃ•]` | Question â†’ ghi vÃ o design.md (má»¥c Clarifications), tá»‘i Ä‘a 5 má»¥c/phiÃªn | Giáº£i quyáº¿t ambiguity trÆ°á»›c khi build. Loop Ä‘áº¿n háº¿t |
| 2 | Step DELIVER â€” káº¿t thÃºc | Present results | User xem skill package + build-log trÆ°á»›c khi hoÃ n táº¥t |

**Chá»‰ 2 interaction points** â€” vÃ¬ input (design.md + todo.md) Ä‘Ã£ Ä‘Æ°á»£c confirm bá»Ÿi Architect + Planner.
B-D3 yÃªu cáº§u Ã­t interaction, cháº¡y 1 máº¡ch.

## 7. Progressive Disclosure Plan

### Táº§ng 1: Báº¯t buá»™c Ä‘á»c (Mandatory)
- `SKILL.md` â€” persona, 5 steps, 6 guardrails
- `knowledge/architect.md` â€” framework 7 Zones, Progressive Disclosure, SKILL.md writing rules
- `knowledge/build-guidelines.md` â€” cÃ¡ch viáº¿t ná»™i dung cho tá»«ng Zone type

### Táº§ng 2: Tá»± quyáº¿t Ä‘á»‹nh (Conditional)
- `loop/build-checklist.md` â€” Ä‘á»c SAU Step BUILD Ä‘á»ƒ tá»± kiá»ƒm tra (Step VERIFY)
- `scripts/validate_skill.py` â€” cháº¡y trong Step VERIFY

## 8. Risks & Blind Spots

| # | Blind Spot | Nguy cÆ¡ | Mitigation |
|---|-----------|---------|------------|
| B1 | **Bá»‹a ná»™i dung knowledge/** | AI "sÃ¡ng táº¡o" domain knowledge thay vÃ¬ dÃ¹ng resources/ | G1: bÃ¡m tÃ i liá»‡u. Thiáº¿u â†’ táº¡o skeleton, user Ä‘iá»n sau |
| B2 | **SKILL.md quÃ¡ chung** | Persona/phases mÆ¡ há»“ "xá»­ lÃ½ input, táº¡o output" | build-guidelines.md hÆ°á»›ng dáº«n cá»¥ thá»ƒ, architect.md Â§9.1 |
| B3 | **Bá» sÃ³t files** | design.md nÃ³i 5 zones nhÆ°ng chá»‰ táº¡o 3 | validate_skill.py Ä‘á»‘i chiáº¿u 1-1 + build-checklist |
| B4 | **Sai Progressive Disclosure** | Nhá»“i má»i thá»© vÃ o SKILL.md thay vÃ¬ phÃ¢n táº§ng | architect.md Â§6 quy Ä‘á»‹nh. build-guidelines.md cÃ³ vÃ­ dá»¥ |
| B5 | **Guardrails copy-paste** | Checklists chung chung, khÃ´ng specific | build-guidelines.md cÃ³ pattern guardrails hiá»‡u quáº£ |
| B6 | **QuÃªn ghi build-log** | Táº­p trung build mÃ  khÃ´ng document decisions/issues | G6 báº¯t buá»™c. Step DELIVER kiá»ƒm tra |

## 9. Open Questions

KhÃ´ng cÃ³ â€” táº¥t cáº£ decisions Ä‘Ã£ xÃ¡c nháº­n qua Phase 1 vÃ  Phase 2.

**Clarifications (Ä‘iá»n khi cháº¡y Step CLARIFY):**
- (placeholder) Append má»—i cÃ¢u tráº£ lá»i cho `[Cáº¦N LÃ€M RÃ•]` vÃ o Ä‘Ã¢y Ä‘á»ƒ giá»¯ nguá»“n duy nháº¥t.

## 10. Metadata

- **Skill Name**: skill-builder
- **Created**: 2026-02-13
- **Author**: Skill Architect
- **Framework**: architect.md v2.0
- **Position**: #3 trong bá»™ Master Skill Suite (Architect â†’ Planner â†’ **Builder**)
- **Decisions**: B-D1 (autonomous), B-D2 (bÃ¡m architect.md), B-D3 (cháº¡y 1 máº¡ch), B-D4 (clarify-first)
- **Zones Used**: 4/7 (Core, Knowledge, Scripts, Loop)
- **Status**: ğŸŸ¢ COMPLETE
