# ui-architecture-analyst — Implementation Plan

> Generated by Skill Planner | Date: 2026-02-21
> Traceability: 100% matched with design.md

---

## 1. Pre-requisites

| # | Tài liệu / Kiến thức | Tier | Mục đích | Trace | Status |
|---|----------------------|------|----------|-------|--------|
| 1 | Định dạng file Screen Spec nháp đã làm | Domain | Tham khảo chuẩn đầu ra của template | [TỪ DESIGN §1] | ⬜ |
| 2 | Quy định đặt tên component / Atomic Design | Domain | Đóng gói vào `mapping-rules.md` | [TỪ DESIGN §3] | ⬜ |
| 3 | PayloadCMS Schema format & Mermaid diagram syntax | Technical | Hiểu cách bóc tách sơ đồ và schema | [TỪ DESIGN §2.1] | ✅ |
| 4 | Kỹ năng viết CLI script (Python) | Technical | Viết `resource_scanner.py` | [TỪ DESIGN §3] | ✅ |

---

## 2. Phase Breakdown

### Phase 0: Resource Preparation
- [ ] Chuẩn bị/Soạn thảo tài liệu domain về quy tắc Atomic Design và cách chuyển đổi Payload field sang UI Component tại `resources/atomic-rules.md` [TỪ AUDIT TÀI NGUYÊN]
- [ ] Soạn thảo bản tóm tắt/hoặc trích dẫn các files Screen Spec nháp đã làm vào `resources/references.md` để builder hiểu định dạng đầu ra [TỪ AUDIT TÀI NGUYÊN]

### Phase 1: Core & Templates (SKILL.md + templates/)
- [ ] Tạo `SKILL.md` dựa theo quy trình 5 bước: Context Discovery, Screen Identification, Data Mapping, Synthesis & Enhance, Output Generation [TỪ DESIGN §2.2]
- [ ] Tích hợp persona "Senior UI Architect" cùng các guardrails P0, P1 chống ảo giác field và ghi đè file cũ [TỪ DESIGN §2.3, §8]
- [ ] Trích xuất các ranh giới Tier 1 (Mandatory) & Tier 2 (Conditional) disclosure plan vào `SKILL.md` [TỪ DESIGN §7]
- [ ] Đặt rõ các Interaction Points (Hỏi danh sách màn hình và hỏi trước khi ghi đè) trực tiếp vào luồng thực thi trong `SKILL.md` [TỪ DESIGN §6]
- [ ] Viết nội dung mẫu (template) Markdown cho `templates/screen-spec.md.template` chia làm 2 phần: Screen Inventory và Detailed Logic [TỪ DESIGN §3]

### Phase 2: Knowledge & Loop (knowledge/ + loop/)
- [ ] Chuyển đổi nội dung từ `resources/atomic-rules.md` sang file tĩnh `knowledge/mapping-rules.md` quy định cách ánh xạ Schema -> UI type và UI Element ID [TỪ DESIGN §3]
- [ ] Tạo file `loop/design-checklist.md` liệt kê 5 câu hỏi tự phản biện bắt buộc trước khi ghi ra file Screen Spec (Kiểm tra field ảo, flow đúng) [TỪ DESIGN §3]

### Phase 3: Scripts & Automation (scripts/)
- [ ] Code script `scripts/resource_scanner.py` sử dụng ArgumentParser lấy đối số module, quét lấy danh sách đường dẫn diagram + schema đưa ra màn hình (chuẩn JSON list để AI dễ đọc) [TỪ DESIGN §3]
- [ ] Áp dụng quy tắc kiểm soát chống tràn context (Overflow P1) bằng cách throw error trong script nếu parse thiếu tham số module [TỪ DESIGN §8]

---

## 3. Knowledge & Resources Needed

| Loại tài nguyên | Nơi lưu trữ / Công cụ | Cho Phase |
|-----------------|-----------------------|-----------|
| Tham khảo Header/Table Specs | `Docs/life-2/ui/specs/` | Phase 1 |
| Naming Rules & Logic Binding | `resources/atomic-rules.md` (User cung cấp) | Phase 2 |

---

## 4. Definition of Done

- [ ] File `SKILL.md` được viết đầy đủ, bao gồm cấu trúc Tiers, Gates và Progressive Disclosure.
- [ ] File `knowledge/mapping-rules.md` được tạo với nội dung rõ ràng từ tài liệu được nạp.
- [ ] File `scripts/resource_scanner.py` hoàn thành và pass test truyền parameter.
- [ ] File `templates/screen-spec.md.template` sẵn sàng.
- [ ] File `loop/design-checklist.md` có đầy đủ 5 tiêu chí tự kiểm vấn.

---

## 5. Notes

- **CẢNH BÁO TỪ PLANNER**: Kế hoạch sẽ bắt đầu từ Phase 0 để chuẩn bị tài nguyên. Xin mời bổ sung tài nguyên Sống còn bị thiếu ở `resources/`. [TỪ AUDIT TÀI NGUYÊN]
- `[CẦN LÀM RÕ]` Trong design.md ghi "Bộ 5 câu hỏi phản biện" nhưng chưa liệt kê chi tiết nội dung 5 câu hỏi đó. Builder sẽ tự suy ra từ nội dung Guardrails/Risks, yêu thương có muốn bổ sung cụ thể 5 câu đó là gì vào trong Phase 0 không?
