# ui-architecture-analyst â€” Architecture Design

> Generated by Skill Architect | Date: 2026-02-21
> Status: ğŸ”µ IN PROGRESS

---

## 1. Problem Statement

**Váº¥n Ä‘á»**: Thiáº¿u bÆ°á»›c trung gian káº¿t ná»‘i giá»¯a cÃ¡c sÆ¡ Ä‘á»“ logic (Class, Flow, Sequence) vÃ  giai Ä‘oáº¡n váº½ giao diá»‡n (Wireframe) á»Ÿ Life-2. Cáº§n Ä‘áº·c táº£ rÃµ má»—i mÃ n hÃ¬nh chá»©a cÃ¡c dá»¯ liá»‡u gÃ¬, gá»i action gÃ¬ trÆ°á»›c khi thá»±c thi váº½ Ä‘á»ƒ trÃ¡nh AI váº½ sÃ³t/aÌ‰o giaÌc field.

**NgÆ°á»i dÃ¹ng**: AI Agent á»Ÿ giai Ä‘oáº¡n thiáº¿t káº¿ UI (Ä‘áº·c biá»‡t lÃ  `ui-wireframe-designer`) vÃ  Developers cáº§n báº£n mÃ´ táº£ chá»©c nÄƒng UI chi tiáº¿t.

**LÃ½ do cáº§n skill**: CÃ³ má»™t "chuyÃªn gia" tá»± Ä‘á»™ng dá»‹ch logic trá»«u tÆ°á»£ng (Database Schemas, Business Flows) thÃ nh cÃ¡c báº£n **Screen Specifications** cá»¥ thá»ƒ, chuáº©n má»±c cho tá»«ng Module. Äá»“ng thá»i, cÃ³ kháº£ nÄƒng merge/enrich cÃ¡c báº£n nhÃ¡p cÃ³ sáºµn.

---

## 2. Capability Map

### 2.1 Tri thá»©c (Knowledge â€” Pillar 1)
- Quy táº¯c Ã¡nh xáº¡ dá»¯ liá»‡u: Biáº¿n kiá»ƒu dá»¯ liá»‡u (text, email, select tá»« PayloadCMS Schema) thÃ nh cÃ¡c UI Component Elements tÆ°Æ¡ng á»©ng.
- Kháº£ nÄƒng Ä‘á»c hiá»ƒu Activity/Sequence Mermaid Diagram Ä‘á»ƒ táº¡o Interaction Flow cho UI.
- Náº¯m vá»¯ng kiáº¿n trÃºc "Atomic Design" vÃ  naming convention cho UI IDs (`btn-submit`, `input-email`).

### 2.2 Quy trÃ¬nh (Process â€” Pillar 2)
1. **Context Discovery**: Nháº­n Module (VD: M1), tÃ¬m kiáº¿m schema vÃ  diagrams tÆ°Æ¡ng á»©ng báº±ng script.
2. **Screen Identification**: BÃ³c tÃ¡ch cÃ¡c mÃ n hÃ¬nh cáº§n thiáº¿t tá»« Use Case / Flow.
3. **Data & Component Mapping**: Gáº¯n cÃ¡c UI Elements vá»›i Data Fields vÃ  Trigger Actions.
4. **Logic Synthesis (Merge & Enhance)**: TrÃ­ch xuáº¥t logic tá»« file nhÃ¡p (náº¿u cÃ³) Ä‘á»ƒ khÃ´ng ghi Ä‘Ã¨ máº¥t thÃ´ng tin cÅ©.
5. **Output Generation**: Ghi ra file theo template `ui/specs/m[X]-*-ui-spec.md`.

### 2.3 Kiá»ƒm soÃ¡t (Guardrails â€” Pillar 3)
- Tuyá»‡t Ä‘á»‘i khÃ´ng tá»± bá»‹a Ä‘áº·t Data Field mÃ  khÃ´ng cÃ³ trong Database Schema.
- KhÃ´ng bá»‹a Flow náº¿u khÃ´ng Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a á»Ÿ Sequence/Activity Diagrams.
- TrÃ¡nh trÃ n Context báº±ng cÃ¡ch báº¯t buá»™c giá»›i háº¡n viá»‡c quÃ©t á»Ÿ má»™t Module duy nháº¥t má»—i láº§n cháº¡y.

---

## 3. Zone Mapping

> âš ï¸ Contract Section â€” Planner Ä‘á»c Â§3 Ä‘á»ƒ decompose thÃ nh Tasks.

| Zone | Files cáº§n táº¡o | Ná»™i dung | Báº¯t buá»™c? |
|------|--------------|----------|-----------|
| Core (SKILL.md) | `SKILL.md` | Persona, workflow 5 bÆ°á»›c cÆ¡ báº£n, guardrails, hÆ°á»›ng dáº«n phÃ¢n tÃ­ch. | âœ… |
| Knowledge | `knowledge/mapping-rules.md` | Quy táº¯c Ã¡nh xáº¡ Schema -> UI type vÃ  quy Ä‘á»‹nh Ä‘áº·t tÃªn UI Element ID. | âœ… |
| Scripts | `scripts/resource_scanner.py` | Script Ä‘á»ƒ tá»± Ä‘á»™ng gom Ä‘Æ°á»ng link cÃ¡c file Schema vÃ  Diagrams tÆ°Æ¡ng á»©ng vá»›i Module Ä‘áº§u vÃ o. | âœ… |
| Templates | `templates/screen-spec.md.template` | Máº«u cáº¥u trÃºc Markdown chuáº©n phÃ¢n chia Screen Inventory vÃ  Detailed Logic. | âœ… |
| Data | KhÃ´ng cáº§n | N/A | âŒ |
| Loop | `loop/design-checklist.md` | Bá»™ 5 cÃ¢u há»i pháº£n biá»‡n báº¯t buá»™c trÆ°á»›c khi ghi ra file Screen Spec cuá»‘i cÃ¹ng. | âœ… |
| Assets | KhÃ´ng cáº§n | N/A | âŒ |

---

## 4. Folder Structure

```mermaid
mindmap
  root((ui-architecture-analyst))
    SKILL.md
    knowledge
      mapping-rules.md
    scripts
      resource_scanner.py
    templates
      screen-spec.md.template
    loop
      design-checklist.md
```

---

## 5. Execution Flow

```mermaid
sequenceDiagram
    participant User
    participant AI as Agent (ui-architecture-analyst)
    participant Scan as Scripts Zone (scan)
    participant DB as Resources (Schemas/Diagrams)
    participant Output as File System

    User->>AI: YÃªu cáº§u táº¡o UI Spec cho Module M1
    AI->>AI: Äá»c SKILL.md & knowledge/mapping-rules.md
    AI->>Scan: Execute resource_scanner.py(M1)
    Scan-->>AI: Tráº£ vá» danh sÃ¡ch file cáº§n Ä‘á»c
    AI->>DB: Äá»c táº­p trung file Schema & Flow M1
    Note over AI, User: [Gate 1] Confirm danh sÃ¡ch MÃ n hÃ¬nh (Screen Inventory)
    AI->>AI: Láº­p Data Binding & Flow Mapping
    AI->>AI: Äá»‘i chiáº¿u vá»›i loop/design-checklist.md
    alt CÃ³ lá»—i / áº¢o giÃ¡c
        AI->>AI: Tá»± sá»­a chá»¯a mapping field chÆ°a Ä‘Ãºng
    end
    AI->>Output: LÆ°u hoáº·c cáº­p nháº­t vÃ o Docs/life-2/ui/specs/m1-auth-ui-spec.md
    AI->>User: ThÃ´ng bÃ¡o hoÃ n táº¥t Output
```

### D3 â€” Workflow Phases

```mermaid
flowchart LR
    P1[Phase 1: Context Discovery] --> P2[Phase 2: Screen Identification]
    P2 -->|Gate 1: Confirm Screen Inventory| P3[Phase 3: Data Mapping]
    P3 --> P4[Phase 4: Synthesis & Enhance]
    P4 --> P5[Phase 5: Output Generation]
    
    style P1 fill:#ffcdd2,stroke:#c62828
    style P2 fill:#fff9c4,stroke:#fbc02d
    style P3 fill:#c8e6c9,stroke:#2e7d32
```

---

## 6. Interaction Points

| # | Thá»i Ä‘iá»ƒm | LÃ½ do dá»«ng | HÃ nh Ä‘á»™ng cá»§a AI |
|---|-----------|-----------|-----------------|
| 1 | Sau khi gom Ä‘Æ°á»£c Context & LÃªn danh sÃ¡ch Screen | XÃ¡c nháº­n xem danh sÃ¡ch cÃ¡c mÃ n hÃ¬nh (Screen Inventory) bÃ³c tÃ¡ch ra Ä‘Ã£ há»£p lÃ½ vá»›i Use Case chÆ°a. | TrÃ¬nh bÃ y báº£ng Screen Inventory + chá» confirm trÆ°á»›c khi Ä‘i sÃ¢u vÃ o data mapping. |
| 2 | Khi tÃ¬m tháº¥y file spec cÅ© Ä‘Ã£ tá»“n táº¡i | TrÃ¡nh vÃ´ tÃ¬nh ghi Ä‘Ã¨ cÃ¡c cáº¥u trÃºc Ä‘áº·c biá»‡t mÃ  con ngÆ°á»i Ä‘Ã£ viáº¿t vÃ o báº£n draft. | Äá» xuáº¥t plan "Merge & Enhance" + chá» confirm. |

---

## 7. Progressive Disclosure Plan

### Tier 1: Báº¯t buá»™c Ä‘á»c (Mandatory)
- `SKILL.md`
- `loop/design-checklist.md` (Äá»ƒ Ã½ thá»©c ranh giá»›i an toÃ n cá»§a Data Mapping ngay tá»« Ä‘áº§u)
- `templates/screen-spec.md.template`

### Tier 2: Äá»c khi cáº§n (Conditional)
- `knowledge/mapping-rules.md` â€” Äá»c trong Phase "Data & Component Mapping".

---

## 8. Risks & Blind Spots

| # | Risk | Severity | Mitigation |
|---|------|----------|-----------|
| 1 | TrÃ n Context (Overflow) do Ä‘á»c quÃ¡ nhiá»u file cá»§a toÃ n dá»± Ã¡n. | P1 | Giá»›i háº¡n báº¯t buá»™c truyá»n theo tá»«ng `module` (VD: tham sá»‘ `--module M1`). |
| 2 | áº¢o giÃ¡c Field UI: ThÃªm cÃ¡c UI input khÃ´ng cÃ³ trong Schema. | P0 | Báº¯t buá»™c Ä‘á»‘i chiáº¿u 1-1 vá»›i Schema, yÃªu cáº§u ghi Cá»™t "Source Field" trong Spec. Sá»­ dá»¥ng checklist Ä‘á»ƒ self-verify. |
| 3 | Ghi Ä‘Ã¨ file báº¥t cáº©n lÃ m máº¥t dá»¯ liá»‡u draft cÅ©. | P1 | Sá»­ dá»¥ng thuáº­t toÃ¡n Merge/Update náº¿u file Ä‘Ã£ tá»“n táº¡i thay vÃ¬ táº¡o vÃ  overwrite láº¡i tá»« Ä‘áº§u. Äáº·t Interaction Point Ä‘á»ƒ há»i User. |

---

## 9. Open Questions

| # | CÃ¢u há»i | Nguá»“n (Phase) | Tráº¡ng thÃ¡i |
|---|---------|--------------|-----------|
| 1 | File config "style guide" cÃ³ cáº§n load khÃ´ng? | Má»Ÿ rá»™ng | âœ… ÄÃ£ giáº£i quyáº¿t (KhÃ´ng cáº§n thiáº¿t cho phÃ¢n tÃ­ch Logic UI, chá»‰ cáº§n á»Ÿ Skill Wireframe). |

---

## 10. Metadata

- **Skill Name**: ui-architecture-analyst
- **Created**: 2026-02-21
- **Author**: Skill Architect
- **Framework**: architect.md v2.0
- **Status**: ğŸŸ¢ DONE
- **Handoff Checklist**:
  - [x] design.md hoÃ n thiá»‡n (checklist pass)
  - [x] Sáºµn sÃ ng cho skill-planner
