# Class Diagrams â€” Index & Routing

> **Má»¥c Ä‘Ã­ch**: Routing hub cho Skill 2.5 (class-diagram-analyst) vÃ  Skill 2.6 (schema-design-analyst).
> **Cáº­p nháº­t tá»± Ä‘á»™ng** bá»Ÿi Skill 2.5 sau má»—i module Ä‘Æ°á»£c lock.
> **Skill 2.6 Ä‘á»c báº£ng nÃ y trÆ°á»›c** â€” chá»‰ load module cÃ³ Status = âœ… Ready.

---

## ğŸ“Š Status Table

| Module | Markdown (Human Review) | YAML (AI Contract) | Status |
|--------|------------------------|---------------------|--------|
| **M1** Auth & Profile | [class-m1-auth-profile.md](./m1-auth-profile/class-m1-auth-profile.md) | [class-m1-auth-profile.yaml](./m1-auth-profile/class-m1-auth-profile.yaml) | â³ Pending |
| **M2** Content Engine | [class-m2-content-engine.md](./m2-content-engine/class-m2-content-engine.md) | [class-m2-content-engine.yaml](./m2-content-engine/class-m2-content-engine.yaml) | â³ Pending |
| **M3** Discovery Feed | [class-m3-discovery-feed.md](./m3-discovery-feed/class-m3-discovery-feed.md) | [class-m3-discovery-feed.yaml](./m3-discovery-feed/class-m3-discovery-feed.yaml) | â³ Pending |
| **M4** Engagement     | [class-m4-engagement.md](./m4-engagement/class-m4-engagement.md) | [class-m4-engagement.yaml](./m4-engagement/class-m4-engagement.yaml) | â³ Pending |
| **M5** Bookmarking    | [class-m5-bookmarking.md](./m5-bookmarking/class-m5-bookmarking.md) | [class-m5-bookmarking.yaml](./m5-bookmarking/class-m5-bookmarking.yaml) | â³ Pending |
| **M6** Notifications & Moderation | [class-m6-notifications.md](./m6-notifications-moderation/class-m6-notifications.md) | [class-m6-notifications.yaml](./m6-notifications-moderation/class-m6-notifications.yaml) | â³ Pending |

**Legend**: â³ Pending â†’ ğŸ”„ In Progress â†’ ğŸ” Review â†’ âœ… Ready (LOCKED)

---

## ğŸ—ºï¸ Entity â†’ Module Routing

> Skill 2.5 dÃ¹ng báº£ng nÃ y Ä‘á»ƒ biáº¿t entity nÃ o thuá»™c module nÃ o.

| Entity | Module | Aggregate Root | Special Notes |
|--------|--------|---------------|---------------|
| `users` | M1 | âœ… Root | Core entity |
| `posts` | M2 | âœ… Root | Denormalized counters, ranking_score |
| `media` | M2 | âœ… Root | PayloadCMS Upload collection |
| `tags` | M2 | âœ… Root | N:N vá»›i posts qua relationship |
| `post_tags` | M2 | ğŸ“¦ Embedded | Join table â†’ embedded trong Post |
| `post_media` | M2 | ğŸ“¦ Embedded | Join table â†’ embedded trong Post |
| _(feed logic)_ | M3 | âŒ No entity | Cross-module pattern, document strategy |
| `comments` | M4 | âœ… Root | Threaded (parent_comment_id) |
| `likes` | M4 | âœ… Root | Unique index (post_id, user_id) |
| `connections` | M4 | âœ… Root | Unique index (follower_id, following_id) |
| `shares` | M4 | âœ… Root âš ï¸ | **[ASSUMPTION]** Thiáº¿u Entity Dict |
| `bookmark_collections` | M5 | âœ… Root | is_default flag |
| `bookmarks` | M5 | âœ… Root | Unique index (user_id, post_id) |
| `notifications` | M6 | âœ… Root | Polymorphic (entity_type + entity_id) |
| `reports` | M6 | âœ… Root | Polymorphic (target_type + target_id) |
| `audit_logs` | M6 | âœ… Root | Append-only pattern |

---

## âš ï¸ Assumptions Register

> Field/entity Ä‘Æ°á»£c thiáº¿t káº¿ mÃ  khÃ´ng cÃ³ nguá»“n tÃ i liá»‡u gá»‘c.

| Entity | Assumption | Nguá»“n tham chiáº¿u | NgÆ°á»i confirm |
|--------|-----------|-----------------|--------------|
| `shares` | Fields: `id, post_id, user_id, created_at` | ERD tá»•ng quan (khÃ´ng cÃ³ Entity Dict) | â³ Chá» xÃ¡c nháº­n |

---

## ğŸ“Œ HÆ°á»›ng dáº«n sá»­ dá»¥ng

### Cho Skill 2.5 (class-diagram-analyst):
1. Äá»c báº£ng Entity â†’ Module Routing Ä‘á»ƒ biáº¿t scope
2. Cáº­p nháº­t Status sau má»—i module hoÃ n thÃ nh
3. Cáº­p nháº­t Assumptions Register náº¿u cÃ³ field khÃ´ng cÃ³ nguá»“n

### Cho Skill 2.6 (schema-design-analyst):
1. **Äá»ŒC FILE NÃ€Y TRÆ¯á»šC** â€” biáº¿t module nÃ o Ä‘Ã£ âœ… Ready
2. Chá»‰ load YAML file cá»§a module cÃ³ Status = âœ… Ready
3. KHÃ”NG load module status â³ hoáº·c ğŸ”„

---

*Last updated: 2026-02-20 | Generated by Skill Architect*
